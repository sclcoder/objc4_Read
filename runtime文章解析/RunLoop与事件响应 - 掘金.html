<!DOCTYPE html>
<html lang="zh-Hans"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no,viewport-fit=cover"><meta name="google-site-verification" content="cCHsgG9ktuCTgWgYfqCJql8AeR4gAne4DTZqztPoirE"><meta name="google-site-verification" content="nPvn9R5NJLsZKTv5VKIbn0OmkRcJ4PC6KdDoTX3n5Mw"><meta name="apple-itunes-app" content="app-id=987739104"><meta name="baidu-site-verification" content="qiK2a1kcFc"><meta name="360-site-verification" content="4c3c7d57d59f0e1a308462fbc7fd7e51"><meta name="sogou_site_verification" content="c49WUDZczQ"><style>body {
        font-size: 16px;
        line-height: 2;
      }
      a, button, input {
        margin: 1rem 1.5rem;
      }
      img {
        width: 0;
        height: 0;
      }
      #juejin {
        overflow-x: hidden;
      }</style><title data-vue-meta="true">RunLoop与事件响应 - 掘金</title><link rel="apple-touch-icon" sizes="180x180" href="https://b-gold-cdn.xitu.io/favicons/v2/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://b-gold-cdn.xitu.io/favicons/v2/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://b-gold-cdn.xitu.io/favicons/v2/favicon-16x16.png"><link rel="manifest" href="https://b-gold-cdn.xitu.io/favicons/v2/manifest.json"><link rel="mask-icon" href="https://b-gold-cdn.xitu.io/favicons/v2/safari-pinned-tab.svg" color="#5bbad5"><link rel="shortcut icon" href="https://b-gold-cdn.xitu.io/favicons/v2/favicon.ico"><meta name="msapplication-config" content="https://b-gold-cdn.xitu.io/favicons/v2/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="search" title="掘金" href="https://b-gold-cdn.xitu.io/conf/search.xml" type="application/opensearchdescription+xml"><link rel="stylesheet" href="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/ionicons.css"><link rel="stylesheet" href="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/iconfont.css"><link href="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/0.css" rel="stylesheet"><script async="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/hm.js"></script><script async="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/analytics.js"></script><script type="text/javascript" async="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/vds.js"></script><script type="text/javascript" async="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/collect-v.js"></script><script charset="utf-8" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/4.js"></script><style id="style-1-cropbar-clipper">/* Copyright 2014 Evernote Corporation. All rights reserved. */
.en-markup-crop-options {
    top: 18px !important;
    left: 50% !important;
    margin-left: -100px !important;
    width: 200px !important;
    border: 2px rgba(255,255,255,.38) solid !important;
    border-radius: 4px !important;
}

.en-markup-crop-options div div:first-of-type {
    margin-left: 0px !important;
}
</style><meta data-vmid="keywords" name="keywords" content="Objective-C" data-vue-meta="true"><meta data-vmid="description" name="description" content="[TOC] RunLoop与事件响应 2020-03-22 在上一篇《调试iOS用户交互事件响应流程》中，调试了 iOS 事件响应的完整过程，但是只涉及了事件在 UIKit 的视图层级之间的传递的应用层的实现细节，具体到事件在哪里生成，如何分发到 UIKit " data-vue-meta="true"></head><body><div id="juejin" data-v-2a21baac=""><div class="global-component-box" data-v-2a21baac=""><!----><div data-v-5ef5fb43="" data-v-2a21baac="" class="alert-list alert-list"></div><div data-v-15608c17="" data-v-2a21baac="" class="suspension-panel suspension-panel"><button data-v-15608c17="" title="回到顶部" class="btn to-top-btn" style=""><i data-v-15608c17="" class="ion-android-arrow-dropup"></i></button><button data-v-15608c17="" title="建议反馈" class="btn meiqia-btn" style=""><i data-v-15608c17="" class="ion-chatbubble-working"></i></button></div><!----><!----><div class="emoji-barrage" data-v-94fd086c="" data-v-2a21baac=""><!----></div><div class="book-new-user-award-popup" style="display:none;" data-v-22fa60e5="" data-v-2a21baac=""><div class="content-box" style="display:;" data-v-22fa60e5=""><div class="close ion-close-round" data-v-22fa60e5=""></div><div class="header" data-v-22fa60e5=""><div class="icon" data-v-22fa60e5=""><img src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/icon.svg" data-v-22fa60e5=""></div><div class="txt" data-v-22fa60e5="">新人专享好礼</div></div><div class="desc" data-v-22fa60e5="">凡未购买过小册的用户，均可领取三张 5 折新人专享券，购买小册时自动使用专享券，最高可节省 45 元。</div><div class="tickets" data-v-22fa60e5=""><div class="ticket" data-v-22fa60e5=""><div class="ticket__inner" data-v-22fa60e5=""><div class="enjoy" data-v-22fa60e5=""><span class="new-title" data-v-22fa60e5="">小册新人 5 折券</span></div><div class="sale" data-v-22fa60e5="">最高可省 15 元</div></div></div><div class="ticket" data-v-22fa60e5=""><div class="ticket__inner" data-v-22fa60e5=""><div class="enjoy" data-v-22fa60e5=""><span class="new-title" data-v-22fa60e5="">小册新人 5 折券</span></div><div class="sale" data-v-22fa60e5="">最高可省 15 元</div></div></div><div class="ticket" data-v-22fa60e5=""><div class="ticket__inner" data-v-22fa60e5=""><div class="enjoy" data-v-22fa60e5=""><span class="new-title" data-v-22fa60e5="">小册新人 5 折券</span></div><div class="sale" data-v-22fa60e5="">最高可省 15 元</div></div></div></div><div class="remark" data-v-22fa60e5="">注：专享券的使用期限在领券的七天内。</div><div class="submit-btn" data-v-22fa60e5="">一键领取</div></div><div class="model success" style="display:none;" data-v-22fa60e5=""><div class="heading" data-v-22fa60e5="">领取成功</div><div class="content-text" data-v-22fa60e5="">购买小册时自动使用专享券</div><div class="btn-success-footer" data-v-22fa60e5=""><div class="btn-ok" data-v-22fa60e5="">知道了</div><div class="btn-ok btn-link" data-v-22fa60e5="">前往小册首页</div></div></div><div class="model fail" style="display:none;" data-v-22fa60e5=""><div class="heading" data-v-22fa60e5="">领取失败</div><div class="content-text" data-v-22fa60e5="">本活动仅适用于小册新用户</div><div class="btn-ok" data-v-22fa60e5="">知道了</div></div></div><!----><!----><div class="bind-phone-number-modal-box" data-v-269c0ad0="" data-v-2a21baac=""><div st:block="bindPhoneNumberModal" class="modal-mask" style="display:none;" data-v-269c0ad0=""></div><form class="bind-phone-number-form" style="display:none;" data-v-269c0ad0=""><i title="关闭" class="close-btn ion-close-round" data-v-269c0ad0=""></i><h1 class="title" data-v-269c0ad0="">提示</h1><h2 class="hint" data-v-269c0ad0="">根据我国<a href="http://www.cac.gov.cn/2017-08/25/c_1121541842.htm" target="_blank" style="color:#007fff">《互联网跟帖评论服务管理规定》</a>，您需要绑定手机号后才可在掘金社区内发布内容。</h2><div class="input-group" data-v-269c0ad0=""><div class="input-box" data-v-269c0ad0=""><input maxlength="64" placeholder="请输入要绑定的手机号码" class="input" data-v-269c0ad0=""></div><!----><!----></div><button st:name="bindBtn" class="btn" data-v-269c0ad0="">绑定手机</button></form></div></div><!----><div data-v-6fdc8784="" data-v-fa2339b8="" data-v-2a21baac="" class="view-container"><div data-v-6fdc8784="" class="main-header-box"><header data-v-0c56945c="" data-v-6fdc8784="" class="main-header main-header visible"><div data-v-0c56945c="" class="container"><a data-v-0c56945c="" href="https://juejin.im/" class="logo"><img data-v-0c56945c="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/logo.svg" alt="掘金" class="logo-img"><img data-v-0c56945c="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/simplify-logo.svg" alt="掘金" class="mobile"></a><nav data-v-0c56945c="" role="navigation" class="main-nav"><ul data-v-0c56945c="" class="nav-list"><li data-v-0c56945c="" class="main-nav-list"><div data-v-0c56945c="" class="phone-show-menu"><span data-v-0c56945c="">首页</span><div data-v-0c56945c="" class="icon ion-arrow-down-b"></div></div><ul data-v-0c56945c="" class="phone-hide"><li data-v-0c56945c="" class="nav-item link-item route-active"><a data-v-0c56945c="" href="https://juejin.im/">首页</a></li><li data-v-0c56945c="" class="nav-item link-item activities"><a data-v-0c56945c="" href="https://juejin.im/pins">沸点</a></li><li data-v-0c56945c="" class="nav-item link-item"><a data-v-0c56945c="" href="https://juejin.im/topics">话题</a></li><li data-v-0c56945c="" class="nav-item link-item book"><a data-v-0c56945c="" href="https://juejin.im/books">小册</a></li><li data-v-0c56945c="" class="nav-item link-item"><a data-v-0c56945c="" href="https://juejin.im/events/all">活动</a></li></ul></li><li data-v-0c56945c="" class="nav-item search"><form data-v-0c56945c="" role="search" class="search-form"><input data-v-0c56945c="" type="search" maxlength="32" placeholder="搜索掘金" class="search-input"><img data-v-0c56945c="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/juejin-search-icon.svg" alt="搜索" class="search-icon"></form></li><li data-v-0c56945c="" class="nav-item add"><div data-v-0c56945c="" class="add-group"><button data-v-0c56945c="" class="add-btn">写文章</button><div data-v-0c56945c="" class="more"><i data-v-0c56945c="" class="more-icon ion-android-arrow-dropdown"></i></div><ul data-v-0c56945c="" class="more-list"><li data-v-0c56945c="" class="item">发布沸点</li><li data-v-0c56945c="" class="item">分享链接</li><!----></ul></div><!----></li><li data-v-0c56945c="" class="nav-item notification"><a data-v-0c56945c="" class="app-link" href="https://juejin.im/notification" target="_blank"><i data-v-0c56945c="" class="icon ion-android-notifications"></i><!----></a></li><li data-v-0c56945c="" class="nav-item menu"><div data-v-95ddf8f6="" data-v-39db9419="" data-v-0c56945c="" data-src="https://mirror-gold-cdn.xitu.io/168e091634f3322953a?imageView2/1/w/100/h/100/q/85/interlace/1" class="lazy avatar avatar loaded immediate" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e091634f3322953a?imageView2/1/w/100/h/100/q/85/interlace/1&quot;);"></div><!----><ul data-v-0c56945c="" class="nav-menu user-dropdown-list" style="display: none;"><div data-v-0c56945c="" class="nav-menu-item-group"><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c=""><i data-v-0c56945c="" class="fengwei fw-write"></i><span data-v-0c56945c="">写文章</span></a></li><!----><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c=""><i data-v-0c56945c="" class="fengwei fw-draft"></i><span data-v-0c56945c="">草稿</span></a></li></div><div data-v-0c56945c="" class="nav-menu-item-group"><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c="" href="https://juejin.im/user/5b321518f265da595534f34d" class="link-icon"><i data-v-0c56945c="" class="fengwei fw-person"></i><span data-v-0c56945c="">我的主页</span><!----></a></li><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c="" href="https://juejin.im/user/5b321518f265da595534f34d/likes"><img data-v-0c56945c="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="zan"><span data-v-0c56945c="">我赞过的</span></a></li><!----><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c="" href="https://juejin.im/user/5b321518f265da595534f34d/collections"><img data-v-0c56945c="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="collect"><span data-v-0c56945c="">我的收藏集</span></a></li><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c="" href="https://juejin.im/user/5b321518f265da595534f34d/books?type=bought"><i data-v-0c56945c="" class="fengwei fw-bought"></i><span data-v-0c56945c="">已购</span></a></li><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c="" href="https://juejin.im/subscribe"><i data-v-0c56945c="" class="fengwei fw-tag"></i><span data-v-0c56945c="">标签管理</span></a></li></div><div data-v-0c56945c="" class="nav-menu-item-group"><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c="" href="https://juejin.im/user/settings"><i data-v-0c56945c="" class="fengwei fw-setting"></i><span data-v-0c56945c="">设置</span></a></li><li data-v-0c56945c="" class="nav-menu-item more"><a data-v-0c56945c=""><i data-v-0c56945c="" class="fengwei fw-info"></i><span data-v-0c56945c="">关于</span><i data-v-0c56945c="" class="ion-chevron-right more-icon"></i></a><ul data-v-0c56945c="" class="nav-menu more-dropdown-list"><div data-v-0c56945c="" class="nav-menu-item-group"><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c="" href="https://juejin.im/app" target="_blank">下载应用</a></li><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c="" href="https://juejin.im/about" target="_blank">关于</a></li><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c="" href="https://xitu.io/jobs" target="_blank">加入我们</a></li><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c="" href="https://github.com/xitu/gold-miner" rel="nofollow noopener noreferrer" target="_blank">翻译计划</a></li><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c="" href="https://bd.juejin.im/?utm_campaign=bd&amp;utm_source=web&amp;utm_medium=nav" target="_blank">合作伙伴</a></li></div></ul></li></div><div data-v-0c56945c="" class="nav-menu-item-group"><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c=""><i data-v-0c56945c="" class="fengwei fw-logout"></i><span data-v-0c56945c="">登出</span></a></li></div></ul></li><!----><!----></ul></nav></div></header></div><main data-v-6fdc8784="" class="container main-container"><div data-v-fa2339b8="" data-v-6fdc8784="" class="view column-view"><div data-v-fa2339b8="" data-v-6fdc8784="" class="main-area article-area shadow"><article data-v-fa2339b8="" itemscope="itemscope" itemtype="http://schema.org/Article" class="article" data-v-6fdc8784=""><meta itemprop="url" content="https://juejin.im/post/5e7f5ed76fb9a03c3b2bb0cd"><meta itemprop="headline" content="RunLoop与事件响应"><meta itemprop="keywords" content="Objective-C"><meta itemprop="datePublished" content="2020-03-28T14:31:29.507Z"><meta itemprop="image" content="https://b-gold-cdn.xitu.io/icon/icon-128.png"><div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Luminix"><meta itemprop="url" content="https://juejin.im/user/5d8c59d05188250924536c95"></div><div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="掘金"><div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://b-gold-cdn.xitu.io/icon/icon-white-180.png"><meta itemprop="width" content="180"><meta itemprop="height" content="180"></div></div><div data-v-fa2339b8="" class="author-info-block"><a data-v-fa2339b8="" href="https://juejin.im/user/5d8c59d05188250924536c95" target="_blank" rel="" class="avatar-link"><div data-v-95ddf8f6="" data-v-39db9419="" data-v-fa2339b8="" data-src="https://user-gold-cdn.xitu.io/2019/9/28/16d76b53799bd39b?imageView2/1/w/100/h/100/q/85/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2019/9/28/16d76b53799bd39b?imageView2/1/w/100/h/100/q/85/interlace/1&quot;);"></div></a><div data-v-fa2339b8="" class="author-info-box"><a data-v-263f3a32="" data-v-fa2339b8="" href="https://juejin.im/user/5d8c59d05188250924536c95" target="_blank" rel="" class="username username ellipsis">Luminix<a data-v-6d94a6ea="" data-v-263f3a32="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-6d94a6ea="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/lv-1.svg" alt="lv-1"></a></a><div data-v-fa2339b8="" class="meta-box"><time data-v-fa2339b8="" datetime="2020-03-28T14:31:29.507Z" title="Sat Mar 28 2020 22:31:29 GMT+0800 (中国标准时间)" class="time">2020年03月28日</time><span data-v-fa2339b8="" class="views-count">阅读 280</span><!----></div></div><button data-v-5789daef="" data-v-fa2339b8="" class="follow-button follow followed">已关注</button></div><!----><h1 data-v-fa2339b8="" class="article-title">RunLoop与事件响应</h1><div data-v-fa2339b8="" data-id="5e7f5fc1e51d4546bd34ea38" itemprop="articleBody" class="article-content"><p>[TOC]</p>
<h1 class="heading" data-id="heading-0">RunLoop与事件响应</h1>
<p><em>2020-03-22</em></p>
<p>在上一篇《调试iOS用户交互事件响应流程》中，调试了 iOS 事件响应的完整过程，但是只涉及了事件在 UIKit 
的视图层级之间的传递的应用层的实现细节，具体到事件在哪里生成，如何分发到 UIKit 层的底层流程则未有提及。本文尝试从 RunLoop 
入手，探索事件响应的底层流程。</p>
<h2 class="heading" data-id="heading-1">一、XNU内核和Mach</h2>
<p>在进入正题之前，先聊聊 XNU 内核。首先 Mac OS X 和 iOS 都是基于 Darwin 系统开发而来。Darwin 系统是 Mac OS X 的核心操作系统部分，而 Darwin 系统的内核就是 XNU（X is Not Unix）。</p>
<h3 class="heading" data-id="heading-2">1.1 XNU内核架构</h3>
<p>XNU 内核是混合架构内核，它以 Mach 微内核为核心，在上层添加了 BSD 和 I/O Kit 等必要的系统组件。从苹果官方文档 [<a target="_blank" href="https://developer.apple.com/library/archive/documentation/Darwin/Conceptual/KernelProgramming/Architecture/Architecture.html#//apple_ref/doc/uid/TP30000905-CH1g-CACDAEDC" rel="nofollow noopener noreferrer">NextPrevious
Kernel Architecture Overview</a>] 搬运以下三张 Mac OS X 的内核架构图（iOS 内核架构也差不多如此）。</p>
<p></p><figure><img alt="OS X architecture" class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/28/171218a665992de2?imageslim" data-width="457" data-height="151" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/171218a665992de2.gif"><figcaption></figcaption></figure><p></p>
<p></p><figure><img alt="Darwin and OS X" class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/28/171218a6626fed4a?imageslim" data-width="456" data-height="151" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/171218a6626fed4a.gif"><figcaption></figcaption></figure><p></p>
<p></p><figure><img alt="OS X kernel architecture" class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/28/171218a666dde2a6?imageslim" data-width="298" data-height="181" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/171218a666dde2a6.gif"><figcaption></figcaption></figure><p></p>
<p>Mach 是 XNU 内核中的内核。Mach 提供的是 CPU 管理、内存管理、任务调度等最底层的功能，为操作系统层的组件提供了基于 
mach message 的通信基础架构。Mach 
更具体的功能是进程（机间）通讯（IPC）、远程过程调用（RPC）、对称多处理调度（SMP）、虚拟内存管理、分页支持、模块化架构、时钟管理等最基本
的操作系统功能。</p>
<p>BSD（Berkly Software 
Distribution）实现了所有现代操作系统所包含的核心功能，包括文件系统、网络通讯系统、内存管理系统、用户管理系统等等。BSD 
属于内核环境的一部分，但是由于它对外提供了丰富的应用层 API，因此它表现出来有点游离于内核之外而处于应用层。NKEs（Network 
Kernel Extensions）详见《OSX与iOS内核编程》可用于监听网络流量、修改网络流量、接收来自驱动层的异步通知等等。</p>
<p>I/O Kit 则是对外设 Driver 进行了面向对象封装，除了负责处理来自 I/O 设备的信号外，还提供了丰富的 KPI 用于 I/O
 设备驱动开发。通常 iOS 开发很少涉及到驱动开发，主要原因是 iOS 操作系统的核心代码不是开源的，而 iOS 
在硬件权限的管理上也相当谨慎，因此不会在 iOS 上开发如此底层的接口。对于涉及硬件交互的内容，iOS 
通常是提供相关应用开发框架给开发者调用；Mac OS X 则开放了 I/O Kit 专门用于外设驱动层的开发。</p>
<p>总之，XNU 内核组成对外表现为 Mach + BSD + I/OKit，BSD 层建立于 I/O Kit 层之上，Mach 内核作为核心贯穿于两层之中。Mach 在任务调度和底层消息通信中占据核心地位。<code>NSRunLoop</code>的 Source1 就是通过 mach message 来唤醒 RunLoop 的。</p>
<h3 class="heading" data-id="heading-3">1.2 mach_msg</h3>
<p>在程序调试过程中，经常需要暂停程序运行下断点，程序暂停就是通过发送<code>mach_msg</code>消息实现的。从下图的调用栈可以发现，<code>mach_msg</code>中调用了<code>mach_msg_trap</code>。当 App 接收到<code>mach_msg_trap</code>时，其中的<code>syscall</code>指令触发系统调用，应用从用户态转入内核态。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/28/171218a64e168a86?imageView2/0/w/1280/h/960/ignore-error/1" data-width="786" data-height="542" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/171218a64e168a86.jpg"><figcaption></figcaption></figure><p></p>
<p>进入内核态意味着应用获取了访问系统资源的最高特权，包括 CPU 调度、寄存器读写、内存访问、虚拟内存管理、外围设备访问、跨进程访问等等。而这些任务在用户态下是无法完成的。此时收到<code>mach_msg</code>的当前线程暂停手中的任务，保存当前线程的上下文，等待系统调用完成。收到<code>msg_msg</code>消息唤醒后，线程才重新投入运行。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/28/171218a65056bcaa?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/171218a65056bcaa.jpg"><figcaption></figcaption></figure><p></p>
<p>也许也正是因为 Mach 如此强大，而且建立在极少量的 API 的基础上而又具备很强的灵活性，所以 XNU 内核的设计者才在 Mach 之外套了一层 BSD 加以控制，以提供更加具体且统一的操作系统内核开发的规范。</p>
<p>在使用 Profile &gt;&gt; System Trace 工具跟踪应用的 CPU 使用情况时会发现，静止的应用大部分时间是处在 
sytem call 状态下（如下图红色条带区域），主线程则是 Blocked 阻塞状态（如下图灰色条带区域），这是因为在 iOS 
没有接收到用户事件、没有需要正在运行的逻辑时，系统调用了<code>mach_msg</code>进入了内核态并阻塞了主线程，此时主线程 
RunLoop 处于睡眠状态。这就是 iOS 保证 CPU 
能够大部分时间下低功耗运行的原因。仅当系统接收到需要零星需要处理的事件时（如图蓝色条带区域），才从内核态转回用户态处理事件，当然处理事件过程中如
果要调度系统资源还会切到内核态，例如<code>NSLog</code>函数调用时，就会阻塞线程，进入 I/O 过程输出日志，完成后才返回用户态。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/28/171218a64e3507ba?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/171218a64e3507ba.jpg"><figcaption></figcaption></figure><p></p>
<h2 class="heading" data-id="heading-4">二、RunLoop调试</h2>
<p>本节大量参照了苹果官方文档对 RunLoop 的描述，并结合 lldb 调试 RunLoop 的数据结构以及工作流程，是本文的核心章节。</p>
<h3 class="heading" data-id="heading-5">2.1 RunLoop简介</h3>
<p>通常情况下，线程在执行完指定任务后就立刻销毁。但有些情况，开发者希望线程能够常驻，并在空闲时进入等待任务的状态。此时就需要用到 RunLoop 实现线程保活。</p>
<p>下图是 RunLoop 的一个不完全的状态转换图，可以比较直观地展示 RunLoop 大致工作流程，右边红色标记部分就是 RunLoop 
处理逻辑的主体，明显是一个“唤醒-&gt;处理消息-&gt;睡眠”的循环迭代过程，输入源可以看作是 RunLoop 接收消息的地方。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/28/171218a67e9fba14?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="750" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/171218a67e9fba14.jpg"><figcaption></figcaption></figure><p></p>
<p>再参考来自官方文档的定义。RunLoop 用来监控任务的<strong>输入源</strong>（input sources），并在输入源准备就绪后，对其进行调度控制。常见的输入源包括：用户输入设备、网络连接、时钟、延迟触发事件、异步回调等等。RunLoop 可以监控的输入源种类有三种：Sources、Timers、Observers，它们有<strong>回调函数</strong>（callback）。RunLoop 接收到某输入源的<strong>触发事件</strong>时，会执行该输入源的回调函数。监控输入源之前，需要将其添加到 RunLoop。不再需要监控时，则将其从 RunLoop 移除，回调函数就不会再触发。</p>
<blockquote>
<p>注意：RunLoop 是调用 input sources 的回调函数是同步调用，并不是异步，也就说如果回调函数的处理过程如果特别耗时，会直接影响到其他 input sources 事件响应的时效性。</p>
</blockquote>
<p>Sources、Timers、Observers 都需要与一个或多个 Mode（run loop mode）关联。Mode 界定了 
RunLoop 在运行之时，所监控的输入源（事件）的范围。运行 RunLoop 前，需要指定 RunLoop 所要进入的 
Mode；开始运行后，RunLoop 只处理 Mode 中包含的监控对象的触发事件。加之 RunLoop 可以重复运行，因此可以控制 
RunLoop 在适当的时间点，进入适当的 Mode，以处理适当的事件。</p>
<p>总结 RunLoop、Sources、Mode 的关系如下图所示：</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/28/171218a6840b1b98?imageView2/0/w/1280/h/960/ignore-error/1" data-width="718" data-height="424" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/171218a6840b1b98.jpg"><figcaption></figcaption></figure><p></p>
<h4 class="heading" data-id="heading-6">2.1.1 Input Sources</h4>
<p>输入源是根据触发事件的类型分类的。其中，Sources 的触发事件是外部消息（信号）；Timer 的触发事件是时钟信号；Observer 的触发事件是 RunLoop 状态变更。其实，输入源触发事件时，发送的消息都非常简单，可以理解为一个脉冲信号<code>1</code>，它只是给输入源<strong>打上待处理标记</strong>，这样 RunLoop 在被唤醒时就能查询当前 Mode 的输入源中哪些需要处理，需要处理的则触发其回调函数。</p>
<h5 class="heading" data-id="heading-7">Source0和Source1</h5>
<p>Sources 根据消息种类分为 Source0 和 Source1。</p>
<p>Source0 是应用自行管理的输入源。应用选择在适当的时机调用<code>CFRunLoopSourceSignal</code>来告诉 RunLoop 有个 Source0 需要处理。譬如，在线程 A 上完成准备工作后，给线程 B 的 RunLoop 中的 Source0 发送信号，触发（并不是马上）Source0 回调函数中的主任务逻辑开始执行。<code>CFSocket</code>就是通过 Source0 实现的。</p>
<p>Source1 是 RunLoop 和内核共同管理的输入源。Source1 需要关联一个 mach port，并通过 mach port 
发送触发事件信号，从而告诉 RunLoop 有个 Source1 需要处理。当 mach port 收到 mach 消息时，内核会自动给 
Source1 发送信号，mach 消息的内容也会一并发送给 Source1，作为触发 Source1 回调函数触发的上下文（参数）。<code>CFMachPort</code>和<code>CFMessagePort</code>就是通过 Source1 实现的。</p>
<p>单个 Source 可以同时注册到多个 RunLoop 或 Mode 中，当 Source 事件触发时，无论哪个 RunLoop 
率先接收到消息，都会触发 Source 的回调函数。单个 Source 添加到多个 RunLoop 可以应用于 
处理离散数据集（数据间不存在关联性）的“worker”线程池管理，譬如消息队列的“生产者-消费者”模型，当任务到达时，会自动随机触发一条线程接收
数据并进行处理。</p>
<p>总结 Source0 和 Source1 的主要区别如下：</p>
<ul>
<li>事件发送方式不同，Source0 是通过<code>CFRunLoopSourceSignal</code>发送事件信号，Source1 是通过 mach port 发送事件消息；</li>
<li>事件的复杂度不同，Source0 的事件是不附带上下文的（相当于简单的<code>1</code>信号），Source1 的事件是附带上下文（有消息内容）的；</li>
<li>Source1 比 Source0 多了个 mach port 成员；</li>
</ul>
<blockquote>
<p>Note: A run loop source can be registered in multiple run loops and 
run loop modes at the same time. When the source is signaled, whichever 
run loop that happens to detect the signal first will fire the source.</p>
</blockquote>
<h5 class="heading" data-id="heading-8">Timer</h5>
<p>Timer 是一种预设好事件触发时间点的 RunLoop 输入源。既可以设置 Timer 只触发一次，也可以设置以指定的时间间隔重复触发。重复触发的 Timer 可以手动触发 Timer 的下一次事件。<code>CFRunLoopTimer</code>和<code>NSTimer</code>是 toll-free bridged 的。</p>
<p>Timer 并不是实时的，它的触发是建立在，RunLoop 正在运行 Timer 所在 Mode 的前提上。当 到达 Timer 
的预设触发时间点时，若 RunLoop 此时正运行于其他 Mode，或者 RunLoop 正在处理某个复杂的回调，RunLoop 
的当前迭代则会跳过该 Timer 触发事件，直到 RunLoop 下次迭代到来再检查 Timer 并触发事件。</p>
<p>Timer 输入源的本质，是根据时钟信号，在 RunLoop 中注册触发时间点，RunLoop 唤醒并进入迭代时，会检查 Timer 
是否到达触发时间点，若到达则调用 Timer 的回调函数。Timer 的注册时间点始终是按照 Timer 
初始化时所指定的触发时间策略排布的。譬如一个在<code>2020-02-02 12:00:00</code>开始，每 5s 循环触发的 Timer，其<code>2020-02-02 12:00:05</code>触发事件被推迟到<code>2020-02-02 12:00:06</code>触发了，那么 Timer 的下个触发时间点仍然是<code>2020-02-02 12:00:10</code>，而不是在延迟的触发时间点基础上再加 5s。另外，若 Timer 延迟时间内跳过了多个触发时间点，则 RunLoop 在下个触发时间点检查 Timer 时，仅仅会触发一次 Timer 回调函数。</p>
<p>需要注意，Timer 只能被添加到一个 RunLoop 中，但是 Timer 可以被添加到一个 RunLoop 的多个 Modes 中。</p>
<blockquote>
<p>Note: A timer can be registered to only one run loop at a time, although it can be in multiple modes within that run loop.</p>
</blockquote>
<h5 class="heading" data-id="heading-9">Observer</h5>
<p>前面介绍的输入源中，Source0 的事件来自手动触发信号，Source1 的时间来自内核的 mach ports，Timer 的事件来自内核通过 mach port 发送的时钟信号，Observer 的事件则是来自 RunLoop 本身的状态变更。</p>
<p>RunLoop 的状态用<code>CFRunLoopActivity</code>类型表示，包括</p>
<ul>
<li><code>kCFRunLoopEntry</code>、</li>
<li><code>kCFRunLoopBeforeTimers</code>、</li>
<li><code>kCFRunLoopBeforeSources</code>、</li>
<li><code>kCFRunLoopBeforeWaiting</code>、</li>
<li><code>kCFRunLoopAfterWaiting</code>、</li>
<li><code>kCFRunLoopExit</code>、</li>
<li><code>kCFRunLoopAllActivities</code>（所有状态的集合）。</li>
</ul>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/28/171218a68f077ad6?imageView2/0/w/1280/h/960/ignore-error/1" data-width="444" data-height="534" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/171218a68f077ad6.jpg"><figcaption></figcaption></figure><p></p>
<p>构建 RunLoop Observer 时需要指定它所观察的目标 RunLoop 状态，状态是位域可以通过<code>CFRunLoopActivity</code>的“按位与”运算指定 Observer 观察多种目标状态。当 Observer 所观察的 RunLoop 状态发生相应变更时，RunLoop 触发 Observer 的回调函数。</p>
<p>需要注意，Observer 只能被添加到一个 RunLoop 中，但是 Observer 可以被添加到一个 RunLoop 的多个 Modes 中。</p>
<blockquote>
<p>Note: A run loop observer can be registered in only one run loop at a
 time, although it can be added to multiple run loop modes within that 
run loop.</p>
</blockquote>
<h4 class="heading" data-id="heading-10">2.1.2 Modes</h4>
<p>前面提到 Modes 为 RunLoop 的运行过程需要处理的输入源划定范围。缺省情况下都会指定 RunLoop 进入默认 RunLoop Mode（<code>kCFRunLoopDefaultMode</code>）。
默认 RunLoop Mode 是用于在应用（线程）空闲时处理输入源的事件。但 RunLoop Mode 
的种类绝不仅限于此，开发者甚至可以新建自定义的 Mode。Mode 之间是通过 mode name 字符串来区分的。Core 
Foundation 公开的 mode 只有：</p>
<ul>
<li><code>kCFRunLoopDefaultMode</code></li>
<li><code>kCFRunLoopCommonModes</code></li>
</ul>
<p>Foundation 公开的 mode 倒是更多：</p>
<ul>
<li><code>NSDefaultRunLoopMode</code></li>
<li><code>NSRunLoopCommonModes</code></li>
<li><code>NSEventTrackingRunLoopMode</code></li>
<li><code>NSModalPanelRunLoopMode</code></li>
<li><code>UITrackingRunLoopMode</code></li>
</ul>
<h5 class="heading" data-id="heading-11">Common Modes</h5>
<p>Core Foundation 还定义了一个特殊的 Mode，common modes（<code>kCFRunLoopCommonModes</code>），
用于将 Sources、Timers、Observers 输入源同时关联到多个 Mode。每个 RunLoop 都会有自己设定的 common 
modes 集合，但是默认 mode 必定是其中一个。Common modes 用集合数据类型（哈希表）保存。开发者可以使用<code>CFRunLoopAddCommonMode</code>将某个 Mode 指定为 common mode。</p>
<p>举个例子。当把<code>NSTimer</code>添加到主线程 RunLoop 的<code>NSDefaultRunLoopMode</code>，<strong>Timer 只与默认 mode 关联</strong>。用户一直滚动界面时，<code>NSTimer</code>注册的 selector 是不会触发的。因为用户滚动界面时主线程 RunLoop 会进入<code>UITrackingRunLoopMode</code>，其中并没有 Timer 这个输入源，因此 Timer 的事件就不会触发。其中一种解决方式是，将<code>NSTimer</code>添加到主线程 RunLoop 的<code>NSRunLoopCommonModes</code>。</p>
<p>为调试将 Timer 添加到 default mode 和添加到 common modes 有什么区别，使用以下一段代码进行调试。并在<code>NSLog(@"");</code>打上断点，然后运行。</p>
<pre><code class="hljs objc copyable" lang="objc"><span class="hljs-built_in">CFRunLoopTimerRef</span> defaultTimer = <span class="hljs-built_in">CFRunLoopTimerCreateWithHandler</span>(kCFAllocatorDefault, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, ^(<span class="hljs-built_in">CFRunLoopTimerRef</span> timer) {
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> tick = <span class="hljs-number">0</span>;
    <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"Timer in default mode tick: %d"</span>, tick++);
});
<span class="hljs-built_in">CFRunLoopAddTimer</span>(<span class="hljs-built_in">CFRunLoopGetCurrent</span>(), defaultTimer, kCFRunLoopDefaultMode);
    
<span class="hljs-built_in">CFRunLoopTimerRef</span> commonTimer = <span class="hljs-built_in">CFRunLoopTimerCreateWithHandler</span>(kCFAllocatorDefault, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, ^(<span class="hljs-built_in">CFRunLoopTimerRef</span> timer) {
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> tick = <span class="hljs-number">0</span>;
    <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"Timer in common modes tick:%d"</span>, tick++);
});
<span class="hljs-built_in">CFRunLoopAddTimer</span>(<span class="hljs-built_in">CFRunLoopGetCurrent</span>(), commonTimer, kCFRunLoopCommonModes);

<span class="hljs-comment">//让 RunLoop 持有 Timer 即可</span>
<span class="hljs-built_in">CFRelease</span>(defaultTimer);
<span class="hljs-built_in">CFRelease</span>(commonTimer);

<span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@""</span>);
<span class="copy-code-btn">复制代码</span></code></pre><p>程序陷入断点后，输入以下红框的 lldb 命令打印两个 timer 以及当前 RunLoop 对象。如下图所示，RunLoop 对象信息太多，使用 Command+F 快捷键在调试日志中搜索两个 Timer 对象的内存地址。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/28/171218a6ab790455?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/171218a6ab790455.jpg"><figcaption></figcaption></figure><p></p>
<p>首先搜索添加到 default mode 的<code>defaultTimer</code>，发现<code>defaultTimer</code>只被添加到<code>kCFRunLoopDefaultMode</code>中，如下图所示</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/28/171218a6b8d52d91?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/171218a6b8d52d91.jpg"><figcaption></figcaption></figure><p></p>
<p>然后搜索添加到 common modes 的<code>commonTimer</code>，发现<code>commonTimer</code>被添加到了三个地方，分别是：</p>
<ul>
<li>
<p>common modes item
</p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/28/171218a6b93a36b4?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/171218a6b93a36b4.jpg"><figcaption></figcaption></figure><p></p>
</li>
<li>
<p>UITrackingRunLoopMode
</p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/28/171218a6e0999175?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/171218a6e0999175.jpg"><figcaption></figcaption></figure><p></p>
</li>
<li>
<p>kCFRunLoopDefaultMode
</p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/28/171218a6bb64f40b?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/171218a6bb64f40b.jpg"><figcaption></figcaption></figure><p></p>
</li>
</ul>
<p>此时再回头看刚开调试，没有提到的蓝色方框框中的内容，其含义是当前 RunLoop 的 common modes 包含两个<code>kCFRunLoopDefaultMode</code>和<code>UITrackingRunLoopMode</code>。这意味着<strong>当把 input source 添加到 RunLoop 的<code>kCFRunLoopCommonModes</code>时，input source 同时会被添加到 RunLoop 的 common modes 包含的所有 modes 中，同时也将其添加到 RunLoop 的 common items 中进行备案</strong>。重点是，这样一来，把 Timer 添加到<code>kCFRunLoopCommonModes</code>，则标记为 common mode 的<code>UITrackingRunLoopMode</code>也会添加该 Timer。这就是为什么，即使滚动页面时 RunLoop 运行在<code>UITrackingRunLoopMode</code>下，也能触发该 Timer 的事件的原因。而添加到<code>kCFRunLoopDefaultMode</code>的 Timer 不触发则是因为，它只被添加到了<code>kCFRunLoopDefaultMode</code>中。</p>
<p>可以进一步尝试搜索 common items 中任意一个 input source，在调试窗口日志中都会命中多个结果。</p>
<blockquote>
<p>Note: Once a mode is added to the set of common modes, it cannot be removed.</p>
</blockquote>
<h3 class="heading" data-id="heading-12">2.2 RunLoop与线程</h3>
<p>RunLoop 和线程（Thread）是一一对应的关系，默认情况下线程是没有 RunLoop 的（主线程除外），也就是说线程执行完任务后就可以直接销毁。且 Cocoa 也没有提供创建 RunLoop 的 API，仅能通过<code>CFRunLoopGetMain()</code>和<code>CFRunLoopGetCurrent()</code>获取，当获取时检测到线程未创建 RunLoop 实例，则系统自动为其创建 RunLoop。</p>
<p>RunLoop 公开的接口有两套，<code>NSRunLoop</code>和<code>CFRunLoop</code>两者之间可以 toll-free bridging 转换。<code>CFRunLoop</code>的<a target="_blank" href="http://opensource.apple.com/tarballs/CF/" rel="nofollow noopener noreferrer">代码</a>是开源的。需要注意，<code>NSRunLoop</code>不是线程安全的，Apple Documentation 中有以下一条 Warning 声明不能在 RunLoop 的线程之外的线程上，调用该 RunLoop 的方法。</p>
<blockquote>
<p>Warning: The NSRunLoop class is generally not considered to be 
thread-safe and its methods should only be called within the context of 
the current thread. You should never try to call the methods of an 
NSRunLoop object running in a different thread, as doing so might cause 
unexpected results.</p>
</blockquote>
<h3 class="heading" data-id="heading-13">2.3 RunLoop的API</h3>
<p>RunLoop 公布的 API 有两套<code>NSRunLoop</code>和<code>CFRunLoop</code>，后者的 API 更加完备，因此本章只介绍<code>CFRunLoop</code>的 API。上面贴出摘自的 Apple Documentation 的 Warning 意思是<code>NSRunLoop</code>不是线程安全的，不能在<code>NSRunLoop</code>所在线程外调用<code>NSRunLoop</code>的方法（不能在<code>NSRunLoop</code>线程外调用其<code>performSelector:XXX</code>接口似乎会让<code>NSRunLoop</code>的这套接口变得有点鸡肋）。本章对<code>CFRunLoop</code>的公开 API 做了一个简单的分类，大部分从接口就可以知道其用途，因此只注释其中一部分 API。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/28/171218a6e86cc227?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="660" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/171218a6e86cc227.jpg"><figcaption></figcaption></figure><p></p>
<h4 class="heading" data-id="heading-14">2.3.1 RunLoop操作API</h4>
<h5 class="heading" data-id="heading-15">运行RunLoop</h5>
<pre><code class="hljs bash copyable" lang="bash">CFRunLoopRunResult CFRunLoopRunInMode(CFRunLoopMode mode, CFTimeInterval seconds, Boolean <span class="hljs-built_in">return</span>AfterSourceHandled)
<span class="copy-code-btn">复制代码</span></code></pre><p><code>CFRunLoopRunInMode</code>用于以指定的 mode 运行 RunLoop。<code>CFRunLoopRunInMode</code>可以递归地调用，即开发者可以在 RunLoop 内的任何一个回调函数中调用<code>CFRunLoopRunInMode</code>从而在 RunLoop 所在线程的调用栈上形成层次嵌套的 RunLoop 激活形态。意思就是，在 RunLoop 的回调函数内，开发者可以按需自由调用<code>CFRunLoopRunInMode</code>切换 RunLoop Mode，而且基本不会产生副作用。</p>
<ul>
<li>
<p><code>seconds</code>参数表示当次 RunLoop 运行的时间长度，如果<code>seconds</code>指定为<code>0</code>，则 RunLoop 只会处理其中一个 input source 的事件（如果处理的恰好是 source0，则存在额外再多处理一个事件的可能（TODO）），此时无论开发者指定怎样的<code>returnAfterSourceHandled</code>都是无济于事的。</p>
</li>
<li>
<p><code>returnAfterSourceHandled</code>用于指定 RunLoop 执行完 source 后是否立即退出。如果是<code>NO</code>，则 source 执行完毕后，仍要等到<code>seconds</code>时间点到达时才退出。</p>
</li>
<li>
<p>返回 RunLoop 退出的原因。</p>
<ul>
<li><code>kCFRunLoopRunFinished</code>：RunLoop 中已经没有 input source；</li>
<li><code>kCFRunLoopRunStoped</code>：RunLoop 被<code>CFRunLoopStop</code>函数终止；</li>
<li><code>kCFRunLoopRunTimedOut</code>：<code>seconds</code>计时到时，超时退出；</li>
<li><code>kCFRunLoopRunHandledSource</code>：已完成一个 input source 的处理。该返回值只会在<code>returnAfterSourceHandled</code>参数为<code>true</code>时才会出现。</li>
</ul>
</li>
</ul>
<p><code>CFRunLoopRun</code>是在 default mode 下运行 RunLoop。</p>
<blockquote>
<p>Note: You must not specify the kCFRunLoopCommonModes constant for the
 mode parameter. Run loops always run in a specific mode. You specify 
the common modes only when configuring a run-loop observer and only in 
situations where you want that observer to run in more than one mode.</p>
</blockquote>
<h5 class="heading" data-id="heading-16">唤醒RunLoop</h5>
<p><code>CFRunLoopWakeUp</code>用于唤醒 RunLoop。当 input source 
未事件触发时，RunLoop 处于睡眠状态，在它超时退出或被显式唤醒之前，RunLoop 都会一直维持在睡眠状态。当修改 RunLoop 
时，譬如添加了 input source，必须唤醒 RunLoop 让它处理该修改操作。当向 Source0 发送信号，并希望 RunLoop 
能立刻处理时，可以调用<code>CFRunLoopWakeUp</code>立即唤醒 RunLoop。</p>
<h5 class="heading" data-id="heading-17">中止RunLoop</h5>
<p><code>CFRunLoopStop</code>用于中止 RunLoop 当前运行，并将控制权交还给当初调用<code>CFRunLoopRun</code>或<code>CFRunLoopRunInMode</code>激活 RunLoop 本次运行的函数。如果该函数是 RunLoop 的某个回调函数，也就是<code>CFRunLoopRunInMode</code>嵌套，则只会中止 最内层的那次<code>CFRunLoopRunInMode</code>调用 所激活的运行循环。</p>
<h5 class="heading" data-id="heading-18">RunLoop的等待状态</h5>
<p>若 RunLoop 的输入源中没有需要处理的事件，则 RunLoop 会进入睡眠状态，直到 RunLoop 被<code>CFRunLoopWakeUp</code>显式唤醒，或者被 mach_port 消息唤醒。<code>CFRunLoopIsWaiting</code>可以用于查询 RunLoop 是否处于睡眠状态，RunLoop 正在处理事件或者 RunLoop 还未开始运行，该函数都返回<code>false</code>。注意该函数只用于查询外部线程的 RunLoop 状态，因为如果查询当前 RunLoop 状态只会返回<code>false</code>。</p>
<h3 class="heading" data-id="heading-19">2.4 RunLoop的流程</h3>
<p>个人能想到的探索 RunLoop 的流程有两种方式，分别是 lldb 调试和源代码解读。前者比较直观，就先从它入手。</p>
<h4 class="heading" data-id="heading-20">2.4.1 LLDB调试RunLoop流程</h4>
<h5 class="heading" data-id="heading-21">Source0调试</h5>
<p>仍然沿用《调试iOS用户交互事件响应流程》的简单 Demo，但是屏蔽其中的所有定制的<code>hitTest:withEvent:</code>、<code>nextResponder</code>、<code>touchesBegan:withEvent:</code>、<code>touchesBegan:withEvent:</code>代码。因为调试不需要看这些打印内容。然后在<code>didClickBtnFront:</code>点击“点我前Button”的点击事件回调中种下一个断点。点击“点我前Button”程序打断。</p>
<p>使用<code>bt</code>命令查看调用栈如下图所示，提取出与 RunLoop 相关的调用为下图红框框中的内容。原来 iOS 的用户交互事件是在<code>GSEventRunModal</code>中调用<code>CFRunLoopRunSpecific</code>函数运行了某个<code>CFRunLoop</code>对象。当点击事件触发时唤醒了 RunLoop，RunLoop 通过<code>__CFRunLoopDoSource0</code>函数调用<code>__CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION__</code>开始运行某个 <strong>Source0</strong> 的回调函数。后面就是事件响应流程了。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/28/171218a6eb87ac1c?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/171218a6eb87ac1c.jpg"><figcaption></figcaption></figure><p></p>
<p>然而这“某个<code>CFRunLoop</code>对象”具体是哪个<code>RunLoop</code>，具体在哪个 mode 下运行的 RunLoop，且这“某个 Source0”具体是哪个 Source0。这些细节都暂时不得而知。</p>
<p>首先尝试扒一扒<code>CFRunLoop</code>的细节。首先从调用栈中找到调用<code>CFRunLoopRunSpecific</code>的栈帧，这里是 16 号栈帧，<code>frame select 16</code>进入该栈帧。然后打印调用<code>CFRunLoopRunSpecific</code>前赋值的寄存器<code>$rbx</code>，结果是<code>kCFRunLoopDefaultMode</code>，原来是<strong>以默认 mode 运行 RunLoop</strong> 的。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/28/171218a6f26b3ca3?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/171218a6f26b3ca3.jpg"><figcaption></figcaption></figure><p></p>
<p>继续进到 15 号帧看看会不会有什么意外收获。打印到<code>r13</code>寄存器，哟吼，还真敢有。这里由看到了熟悉的<code>kCFRunLoopDefaultMode</code>的面孔，而且还找到一个“形迹可疑”回调函数名为<code>__handleEventQueue</code>的 Source0，注意调用栈第 10 帧恰好是<code>__handleEventQueueInternal</code>这就是我们要找的 Source0 了。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/28/171218a6f41480b8?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/171218a6f41480b8.jpg"><figcaption></figcaption></figure><p></p>
<p>其实更大的惊喜在后头。打印<code>r15</code>寄存器。嗯？这不就是我们要找的 RunLoop 君么。而且它还包含了前面打印出来的<code>kCFRunLoopDefaultMode</code>君。再<code>po CFRunLoopGetMain()</code>打印一下主线程 RunLoop 可以确认该 RunLoop 其实就是<strong>主线程 RunLoop</strong>。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/28/171218a702f8efd8?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/171218a702f8efd8.jpg"><figcaption></figcaption></figure><p></p>
<p>以上就是 Source0 的触发流程如下：</p>
<p>-&gt;<code>CFRunLoopRunXXX</code>
-&gt;<code>__CFRunLoopRun</code>
-&gt;<code>__CFRunLoopDoSources0</code>
-&gt;<code>__CFRunLoopDoSource0</code>
-&gt;<code>__CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION__</code></p>
<p>但是其中似乎少了添加 source 和添加 mode 的细节，这应该是应用初始化时需要完成的操作，而且基本就是调用<code>CFRunLoop</code>相应的 API 实现，因此不调试该部分内容。</p>
<p>那么到底是谁向 Source0 发送的触发信号呢？接下来就揪出这个“幕后黑手”。从前面对 Source0 的介绍已知，使用<code>CFRunLoopSourceSignal</code>发送触发信号。首先将前面下的断点用<code>breakpoint delete</code>全删掉，然后<code>breakpoint set -n CFRunLoopSourceSignal</code>给<code>CFRunLoopSourceSignal</code>函数下个全局断点。准备就绪，点击“点我前Button”。接下来断点命中了很多次，每次命中都<code>bt</code>瞄一眼调用栈，发现前几次命中都是与事件触发相关。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/28/171218a716638b21?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/171218a716638b21.jpg"><figcaption></figcaption></figure><p></p>
<p>原来事件是通过<code>UIEventFetcher</code>的<code>_receiveHIDEventInternal</code>方法触发的，从函数名可以知道，它是用来接收从 <strong>IOHID（I/O Hardware Interface Device）</strong> 层发送来的用户交互事件的。接下来在断点第一次命中时调试用户事件到底是从何而来。<code>frame select 1</code>进入第 1 帧，打印关键寄存器数据，可以推断出用户交互事件是底层通过<code>IOHIDEventSystemClient</code>、<code>HIDServiceClient</code>发送而来。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/28/171218a71bd1ec45?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/171218a71bd1ec45.jpg"><figcaption></figcaption></figure><p></p>
<p>那么，底层发送而来的事件是怎样的形式呢？我们再试探性地打印寄存器内容。试到<code>rbx</code>寄存器时，发现了一个很像事件的“东西”，看起来像是表示一次 touch 事件，进一步<code>po [$rdx class]</code>打印其类型是<code>HIDEvent</code>。看来这就是从 IOHID 层发送上来的用户触摸事件。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/28/171218a71e7008d4?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/171218a71e7008d4.jpg"><figcaption></figcaption></figure>
<figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/28/171218a723200695?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/171218a723200695.jpg"><figcaption></figcaption></figure><p></p>
<p>想必是<strong>HIDEvent 通过<code>UIEventFetcher</code>接收，并转化为<code>UIEvent</code>发送到 UIKitCore 框架进行处理</strong>。另外需要注意，从上面调试过程中的调用栈所属线程为 Thread 6 可以断定，上面收集<code>HIDEvent</code>的线程并不是主线程。也就是说收集来自 IOHID 层的<code>HIDEvent</code>和处理<code>UIEvent</code>事件是在不同的线程，而且后者才是在主线程。</p>
<p><code>UIEventFetcher</code>还不是最终 boss，再回头看本次的调用栈，从中发现了<code>__CFRunLoopDoSource1</code>，Source1 是通过发送 mach port 消息触发的，原来这隐藏的幕后黑手竟然是内核！</p>
<p>最后的问题，是谁唤醒了主线程处理 Source0 还是说根本不需要？为验证这个问题，再下一个<code>CFRunLoopWakeUp</code>的全局断点，发现点击按钮后，确实有触发<code>CFRunLoopWakeUp</code>唤醒 RunLoop，那么这个 RunLoop 具体是哪个 RunLoop 呢？我们再试探性的打印寄存器内容，发现<code>rdi</code>寄存器里面保存的恰好是一个 RunLoop 对象，如下图所示。通过<code>po CFRunLoopGetMain()</code>打印主线程 RunLoop 对象后可以确认，这里<strong>唤醒的正是主线程 RunLoop</strong>。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/28/171218a72705b162?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/171218a72705b162.jpg"><figcaption></figcaption></figure><p></p>
<p>至此，主线程通过 Source0 接收并触发<code>UIEvent</code>的流程就可以串联起来了。</p>
<h5 class="heading" data-id="heading-22">Source1调试</h5>
<p>紧接上一节的进度，继续探索 Source1 接收来自底层的<code>HIDEvent</code>的流程。陷入断点时，用<code>bt</code>命令查看调用栈，可见 Source1 的触发流程如下。其中<code>__CFMachPortPerform</code>是<code>__CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION__</code>调用用来触发 mach port 对应的 Source1 的回调事件的函数。RunLoop 的某次运行迭代，若没有检测到待处理的 mach port 消息，则不会触发<code>__CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION__</code>。</p>
<p>-&gt;<code>CFRunLoopRunXXX</code>
-&gt;<code>__CFRunLoopRun</code>
-&gt;<code>__CFRunLoopDoSource1</code>
-&gt;<code>__CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION__</code>
-&gt;<code>__CFMachPortPerform</code></p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/28/171218a739c9a6ad?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/171218a739c9a6ad.jpg"><figcaption></figcaption></figure><p></p>
<p>关注到第 3 号和第 5 号栈帧。试探性地打印寄存器内容，可以查看到接收 IOHID 事件的<code>NSMachPort</code>对象，以及其对应的 Source1 内容。Source1 的回调是<code>__IOHIDEventSystemClientQueueCallback</code>，对应上面的调用栈中的第 2 号栈帧，由<code>__CFMachPortPerform</code>触发。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/28/171218a747768daa?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/171218a747768daa.jpg"><figcaption></figcaption></figure><p></p>
<p>关于 IOHID 事件消息如何发送到 mach port，通过<code>sendPort</code>、<code>sendBeforeDate</code>、<code>receivePort</code>断点是截获不到该过程的，估计其实现是直接调用了内核的 mach port 消息发送 API 实现的。不过该部分过程比较明显，这里就不继续调试了。只需要知道，如果是自定义的 Source1 输入源，需要给输入源指定<code>NSMachPort</code>对象，消息发送接收通过<code>sendPort</code>、<code>sendBeforeDate</code>、<code>receivePort</code> API 实现即可。</p>
<blockquote>
<p>猜想：关于为何尝试了各种断点都没有捕捉到 mach port 
消息的发送动作，很可能是因为该消息是从系统的另外一个进程发送过来的，其中最可能就是 SpringBoard，作为 iOS 的桌面 
APP，SpringBoard 率先处理来自加速计事件处理横竖屏切换、接收锁屏键音量键等事件本是理所应当的。另外，从 iOS 6.0 
开始，苹果引入了 BackBoard 分担了 SpringBoard 的部分功能，例如，处理来自光传感器的信号调整屏幕亮度、桌面 APP 
图标的点击及长按事件。BackBoard 和 SpringBoard 一样，也是一个 Daemon 进程。</p>
</blockquote>
<h5 class="heading" data-id="heading-23">Timer调试</h5>
<p>为调试 Timer，在 Demo 中增加一句使用<code>CFRunLoopTimer</code>的代码，实际上随便写一个<code>NSTimer</code>也可以，因为前面提到过两者是 toll-free bridged 的。</p>
<pre><code class="hljs objc copyable" lang="objc"><span class="hljs-comment">//调试Timer</span>
<span class="hljs-built_in">CFRunLoopTimerRef</span> defaultTimer = <span class="hljs-built_in">CFRunLoopTimerCreateWithHandler</span>(kCFAllocatorDefault, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, ^(<span class="hljs-built_in">CFRunLoopTimerRef</span> timer) {
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> tick = <span class="hljs-number">0</span>;
    <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"Timer in default mode tick: %d"</span>, tick);
});
<span class="hljs-built_in">CFRunLoopAddTimer</span>(<span class="hljs-built_in">CFRunLoopGetCurrent</span>(), defaultTimer, kCFRunLoopDefaultMode);

<span class="hljs-comment">//不要忘了手动 Release CF 资源，此时 Timer 会被 RunLoop 持有，因此添加完可以直接释放</span>
<span class="hljs-built_in">CFRelease</span>(defaultTimer);
<span class="copy-code-btn">复制代码</span></code></pre><p>在<code>NSLog</code>除打上断点，运行不多久 Demo 程序就会陷入断点，此时<code>bt</code>查看调用栈，可以看到其调用 timer source 的触发过程也是相当简单的，其流程如下：</p>
<p>-&gt;<code>CFRunLoopRunXXX</code>
-&gt;<code>__CFRunLoopRun</code>
-&gt;<code>__CFRunLoopDoTimers</code>
-&gt;<code>__CFRunLoopDoTimer</code>
-&gt;<code>__CFRUNLOOP_IS_CALLING_OUT_TO_A_TIMER_CALLBACK_FUNCTION__</code></p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/28/171218a74b913051?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/171218a74b913051.jpg"><figcaption></figcaption></figure><p></p>
<p>前文提到过 Timer 的本质是在 RunLoop 中注册时间点。翻了 RunLoop 源代码，发现该时间的参照标准是来自内核的<code>uint64_t mach_absolute_time(void)</code>函数。时间点注册则是间接调用了<code>dispatch_time</code>。看来 <strong>无论是<code>NSTimer</code>还是<code>CFRunLoopTimer</code>定时器，本质都是通过 GCD Timer 实现的</strong>。</p>
<pre><code class="hljs bash copyable" lang="bash">CF_PRIVATE dispatch_time_t __CFTSRToDispatchTime(uint64_t tsr) {
    uint64_t tsrInNanoseconds = __CFTSRToNanoseconds(tsr);
    <span class="hljs-keyword">if</span> (tsrInNanoseconds &gt; INT64_MAX - 1) tsrInNanoseconds = INT64_MAX - 1;
    <span class="hljs-built_in">return</span> dispatch_time(1, (int64_t)tsrInNanoseconds);
}
<span class="copy-code-btn">复制代码</span></code></pre><h5 class="heading" data-id="heading-24">Observer调试</h5>
<p>用以下代码调试<code>CFRunLoopObserver</code>。在<code>NSLog</code>处打上断点，运行程序很快就会陷入断点。Observer 的触发流程如下：</p>
<p>-&gt;<code>CFRunLoopRunXXX</code>
-&gt;<code>__CFRunLoopRun</code>
-&gt;<code>__CFRunLoopDoObservers</code>
-&gt;<code>__CFRUNLOOP_IS_CALLING_OUT_TO_AN_OBSERVER_CALLBACK_FUNCTION__</code></p>
<pre><code class="hljs bash copyable" lang="bash">CFRunLoopObserverRef observer = CFRunLoopObserverCreateWithHandler(kCFAllocatorDefault, kCFRunLoopAfterWaiting, <span class="hljs-literal">true</span>, 0, ^(CFRunLoopObserverRef observer, CFRunLoopActivity activity) {
    NSLog(@<span class="hljs-string">""</span>);
});
CFRunLoopAddObserver(CFRunLoopGetCurrent(), observer, kCFRunLoopDefaultMode);
CFRelease(observer);
<span class="copy-code-btn">复制代码</span></code></pre><p>Autorelease pool 是和 RunLoop 有十分密切的联系的。用户点击界面上的按钮时，主线程就会从阻塞状态转向运行状态（不考虑就绪中间态），主线程 RunLoop 也会触发<code>kCFRunLoopAfterWaiting</code>状态变更。同理，APP 静止时，主线程 RunLoop 就会进入<code>kCFRunLoopBeforeWaiting</code>。此时，RunLoop 会调用一次<code>objc_autoreleasePoolPop</code>清理 autorelease pool，紧接着调用<code>objc_autoreleasePoolPush</code>新建  autorelease pool，并发送<code>mach_msg</code>消息进入内核态，主线程进入阻塞状态。</p>
<h4 class="heading" data-id="heading-25">2.4.2 解读RunLoop源代码</h4>
<p>文章还是太长，再写下去就太太太太长了。这里直接安利 Ibireme 的[<a target="_blank" href="https://blog.ibireme.com/2015/05/18/runloop/" rel="nofollow noopener noreferrer">深入理解RunLoop</a>]吧。他的博文对 RunLoop 关键代码提取相当精炼。这里借用一张 Ibireme 文章里面总结的非常好的 RunLoop 处理 Input Sources 的流程图。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/28/171218a752088c78?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="985" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/171218a752088c78.jpg"><figcaption></figcaption></figure><p></p>
<h2 class="heading" data-id="heading-26">三、RunLoop与事件响应</h2>
<p>本来是打算把本文写成《调试iOS用户交互事件响应流程》续集，标题原定《事件响应与RunLoop》写着写着（其实是边写边学）发现，RunLoop 渐渐“喧宾夺主”了，既然如此，于是将计就计，换了个顺序，让 RunLoop 做了“大哥”。</p>
<p>得益于第二部分调试 RunLoop 时，已经使用了事件响应作为例子调试了 RunLoop 的各种 input source 事件的响应逻辑，这里可以直接整理出 iOS 通过 RunLoop 处理用户事件的流程：</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/28/171218a75764871b?imageView2/0/w/1280/h/960/ignore-error/1" data-width="931" data-height="1280" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/171218a75764871b.jpg"><figcaption></figcaption></figure><p></p>
<h2 class="heading" data-id="heading-27">四、总结</h2>
<ul>
<li>RunLoop 是线程保活的方式，与线程是一一对应的关系；</li>
<li>RunLoop 中包含了若干 mode，mode 中包含了若干输入源，mode 的含义是当 RunLoop 在 mode 状态下执行是，只响应 mode 中的输入源。RunLoop 可以嵌套运行，即在输入源的回调函数调用<code>CFRunLoopRunXXX</code>，使 RunLoop 可以在各种 mode 之间自由切换；</li>
<li>Common modes 是一种特殊的 mode，将 mode 标记为 common 意味着会将 RunLoop 中的 common mode items 同步到该 mode 中；</li>
<li>输入源都包含一个回调函数，用户处理接收事件，事件处理逻辑则在回调函数中；</li>
<li>输入源包括 Sources、Timers、Observers，Sources 有两种，Source0 和 Source1；</li>
<li>通过<code>CFRunLoopSourceSignal</code>向 Source0 发送事件信号，若想 RunLoop 立即处理事件则调用<code>CFRunLoopWakeUp</code>唤醒 RunLoop；</li>
<li>Source1 与特定的 mach port 关联，通过向 mach port 发送 mach port 消息触发 Source1 事件；</li>
<li>Timer 的本质是在 RunLoop 中注册时间点，在时间点到达时触发 Timer 的回调函数，<code>CFRunLoopTimer</code>本质是通过 GCD Timer 实现的；</li>
<li>Observer 可以观察 RunLoop 的状态变更，触发 Observer 的回调函数；</li>
<li>用户交互事件首先在 IOHID 层生成 HIDEvent，然后向事件处理线程的 Source1 的 mach port 发送 
HIDEvent 消息，Source1 的回调函数将事件转化为 UIEvent 并筛选需要处理的事件推入待处理事件队列，向主线程的事件处理 
Source0 发送信号，并唤醒主线程，主线程检查到事件处理 Source0 有待处理信号后，触发 Source0 
的回调函数，从待处理事件队列中提取 UIEvent，最后进入 hit-test 等 UIEvent 事件响应流程。</li>
</ul>
</div></article><div data-v-fa2339b8="" data-v-6fdc8784="" class="tag-list-box"><div data-v-fa2339b8="" data-v-6fdc8784="" class="tag-list-title">关注下面的标签，发现更多相似文章</div><div data-v-fa2339b8="" data-v-6fdc8784="" st:block="tagList" class="tag-list"><a data-v-fa2339b8="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" class="item" data-v-6fdc8784=""><div data-v-95ddf8f6="" data-v-4802f2b2="" data-v-fa2339b8="" data-src="https://lc-gold-cdn.xitu.io/71d968ea2fde62410b19.png?imageView2/2/w/42/h/42/q/85/interlace/1" class="lazy thumb tag-icon loaded" style="background-image: url(&quot;https://lc-gold-cdn.xitu.io/71d968ea2fde62410b19.png?imageView2/2/w/42/h/42/q/85/interlace/1&quot;); background-size: contain;"></div><div data-v-fa2339b8="" class="tag-title">Objective-C</div></a></div></div><a data-v-fa2339b8="" href="https://juejin.im/user/5d8c59d05188250924536c95" target="_blank" rel="" data-v-6fdc8784=""><div data-v-fa2339b8="" class="footer-author-block"><div data-v-081ef9db="" data-v-fa2339b8="" itemscope="itemscope" itemtype="http://schema.org/Person" class="author"><meta itemprop="url" content="https://juejin.im/user/5d8c59d05188250924536c95"><meta itemprop="image" content="https://user-gold-cdn.xitu.io/2019/9/28/16d76b53799bd39b?w=1122&amp;h=1125&amp;f=png&amp;s=870139"><meta itemprop="name" content="Luminix"><!----><!----><div data-v-081ef9db="" class="author-info-block"><a data-v-081ef9db="" href="https://juejin.im/user/5d8c59d05188250924536c95" target="_blank" rel="" class="avatar-link"><div data-v-95ddf8f6="" data-v-39db9419="" data-v-081ef9db="" data-src="https://user-gold-cdn.xitu.io/2019/9/28/16d76b53799bd39b?imageView2/1/w/100/h/100/q/85/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2019/9/28/16d76b53799bd39b?imageView2/1/w/100/h/100/q/85/interlace/1&quot;);"></div></a><div data-v-081ef9db="" class="author-info-box"><div data-v-081ef9db="" class="profile-box"><a data-v-263f3a32="" data-v-081ef9db="" href="https://juejin.im/user/5d8c59d05188250924536c95" target="_blank" rel="" class="username username ellipsis">Luminix<a data-v-6d94a6ea="" data-v-263f3a32="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-6d94a6ea="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/lv-1.svg" alt="lv-1"></a></a><span data-v-081ef9db="" class="position ellipsis"></span></div><div data-v-081ef9db="" class="meta-box"><a data-v-081ef9db="" href="https://juejin.im/user/5d8c59d05188250924536c95/posts" target="_blank" rel="" class="posts"><span data-v-081ef9db="" class="count post-count">发布了 14 篇专栏 · </span></a><span data-v-081ef9db="" class="count">获得点赞 43 · </span><span data-v-081ef9db="" class="count">获得阅读 3,126</span></div></div><button data-v-5789daef="" data-v-081ef9db="" class="follow-button follow followed">已关注</button></div></div></div></a><div data-v-fa2339b8="" data-v-6fdc8784="" st:block="banner" class="article-banner"><a data-v-fa2339b8="" data-v-6fdc8784="" st:name="link" st:state="https://juejin.im/extension/?utm_source=juejin.im&amp;utm_medium=post&amp;utm_campaign=extension_promotion" class="banner-title" href="https://juejin.im/extension/?utm_source=juejin.im&amp;utm_medium=post&amp;utm_campaign=extension_promotion" target="_blank">安装掘金浏览器插件</a><div data-v-fa2339b8="" data-v-6fdc8784="" class="banner-content">打开新标签页发现好内容，掘金、GitHub、Dribbble、ProductHunt 等站点内容轻松获取。快来安装掘金浏览器插件获取高质量内容吧！</div></div><!----><!----><div data-v-0d823780="" data-v-fa2339b8="" class="comment-list-box" id="comment-box" data-v-6fdc8784=""><div data-v-0d823780="" class="title">评论</div><div data-v-155bc796="" data-v-0d823780="" class="comment-form comment-form"><div data-v-155bc796="" class="avatar-box"><div data-v-95ddf8f6="" data-v-39db9419="" data-v-155bc796="" data-src="https://mirror-gold-cdn.xitu.io/168e091634f3322953a?imageView2/1/w/100/h/100/q/85/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e091634f3322953a?imageView2/1/w/100/h/100/q/85/interlace/1&quot;);"></div></div><div data-v-155bc796="" class="form-box"><div data-v-155bc796="" class="input-box"><div data-v-cc6aae16="" data-v-155bc796="" class="auth-card"><!----><div data-v-155bc796="" data-v-cc6aae16="" spellcheck="false" placeholder="输入评论..." class="rich-input empty" contenteditable="true"><br data-v-155bc796="" data-v-cc6aae16=""></div></div><!----></div><!----></div><input data-v-155bc796="" type="file" class="hidden"></div><div data-v-1540c949="" data-v-0d823780="" class="comment-list comment-list"><div data-v-0a49d917="" data-v-1540c949="" class="image-viewer-box"><!----></div><div data-v-1540c949="" class="item"><div data-v-164d9344="" data-v-1540c949="" class="comment comment"><div data-v-b628736a="" data-v-164d9344="" st:block="userPopover" st:state="5d2592336fb9a07ec63b3cd0" class="user-popover-box popover"><!----><a data-v-164d9344="" href="https://juejin.im/user/5d2592336fb9a07ec63b3cd0" target="_blank" rel="" class="user-link" data-v-b628736a=""><div data-v-95ddf8f6="" data-v-39db9419="" data-v-164d9344="" data-src="https://user-gold-cdn.xitu.io/2019/8/29/16cdb0e1e56de375?imageView2/1/w/100/h/100/q/85/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2019/8/29/16cdb0e1e56de375?imageView2/1/w/100/h/100/q/85/interlace/1&quot;);"></div></a></div><div data-v-164d9344="" class="content-box comment-divider-line"><div data-v-164d9344="" class="meta-box"><div data-v-b628736a="" data-v-164d9344="" st:block="userPopover" st:state="5d2592336fb9a07ec63b3cd0" class="user-popover-box"><!----><a data-v-263f3a32="" data-v-164d9344="" href="https://juejin.im/user/5d2592336fb9a07ec63b3cd0" target="_blank" rel="" class="username username ellipsis" data-v-b628736a="">Mi1<!----></a></div><div data-v-164d9344="" class="position">1</div></div><div data-v-164d9344="" class="content"><img class="emoji" draggable="false" alt="👍" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/1f44d.svg"></div><div data-v-164d9344="" class="limit-ctl-box"><!----><!----></div><!----><div data-v-164d9344="" class="reply-stat"><time data-v-164d9344="" datetime="2020-04-02T15:20:23.611Z" title="Thu Apr 02 2020 23:20:23 GMT+0800 (中国标准时间)" class="time">1月前</time><div data-v-164d9344="" class="delete"> &nbsp;·&nbsp;删除</div><div data-v-164d9344="" class="action-box"><div data-v-164d9344="" class="like-action action"><svg data-v-164d9344="" aria-hidden="true" width="16" height="16" viewBox="0 0 20 20" class="icon like-icon"><g data-v-164d9344="" fill="none" fill-rule="evenodd"><path data-v-164d9344="" d="M0 0h20v20H0z"></path> <path data-v-164d9344="" stroke="#8A93A0" stroke-linejoin="round" d="M4.58 8.25V17h-1.4C2.53 17 2 16.382 2 15.624V9.735c0-.79.552-1.485 1.18-1.485h1.4zM11.322 2c1.011.019 1.614.833 1.823 1.235.382.735.392 1.946.13 2.724-.236.704-.785 1.629-.785 1.629h4.11c.434 0 .838.206 1.107.563.273.365.363.84.24 1.272l-1.86 6.513A1.425 1.425 0 0 1 14.724 17H6.645V7.898C8.502 7.51 9.643 4.59 9.852 3.249A1.47 1.47 0 0 1 11.322 2z"></path></g></svg><!----></div><div data-v-164d9344="" class="comment-action action"><svg data-v-164d9344="" aria-hidden="true" width="16" height="16" viewBox="0 0 20 20" class="icon comment-icon"><g data-v-164d9344="" fill="none" fill-rule="evenodd"><path data-v-164d9344="" d="M0 0h20v20H0z"></path> <path data-v-164d9344="" stroke="#8A93A0" stroke-linejoin="round" d="M10 17c-4.142 0-7.5-2.91-7.5-6.5S5.858 4 10 4c4.142 0 7.5 2.91 7.5 6.5 0 1.416-.522 2.726-1.41 3.794-.129.156.41 3.206.41 3.206l-3.265-1.134c-.998.369-2.077.634-3.235.634z"></path></g></svg> <span data-v-164d9344="" class="action-title">回复</span></div></div></div><!----><div data-v-0aa2f002="" data-v-164d9344="" class="sub-comment-list sub-comment-list"><!----></div></div><!----></div></div></div><!----></div></div><!----><div data-v-fa2339b8="" data-v-6fdc8784="" st:block="recommended" class="main-area recommended-area shadow"><div data-v-fa2339b8="" data-v-6fdc8784="" class="recommended-entry-list-title">相关推荐</div><!----><ul data-v-0dfe6a32="" data-v-fa2339b8="" st:block="entryList" class="entry-list recommended-entry-list" data-v-6fdc8784=""><!----><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5eafa04ef265da7b9450b769|1" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5eaf96476fb9a043266cafdd" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="5a4a29076fb9a04512394c1e" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/5a4a29076fb9a04512394c1e" target="_blank" rel="" st:name="user" st:state="5a4a29076fb9a04512394c1e" data-v-b628736a="">松的冬天</a></div></li><li data-v-ecbf465a="" class="item">4天前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5eaf96476fb9a043266cafdd" target="_blank" rel="" st:name="title" class="title">利用类扩展解决NSTimer会保留目标对象</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">2</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5eaf96476fb9a043266cafdd#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><span data-v-ecbf465a="" class="count">12</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5ea7dca4e51d454d9a6a62cc|2" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5ea7dc236fb9a0437a4d27de" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="5dd4ee47e51d453694598c63" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/5dd4ee47e51d453694598c63" target="_blank" rel="" st:name="user" st:state="5dd4ee47e51d453694598c63" data-v-b628736a="">iOSer1024</a></div></li><li data-v-ecbf465a="" class="item">10天前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5ea7dc236fb9a0437a4d27de" target="_blank" rel="" st:name="title" class="title">iOS中的函数响应式编程思想</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">9</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5ea7dc236fb9a0437a4d27de#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><!----></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5ea68346f265da47bd1bc100|3" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5ea68320f265da47cc02ab27" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="5bff43f66fb9a049e82b397a" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/5bff43f66fb9a049e82b397a" target="_blank" rel="" st:name="user" st:state="5bff43f66fb9a049e82b397a" data-v-b628736a="">我是熊大</a></div></li><li data-v-ecbf465a="" class="item">11天前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5ea68320f265da47cc02ab27" target="_blank" rel="" st:name="title" class="title">🐻 iOS如何拍照静音-效果上可以完美解决</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">6</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5ea68320f265da47cc02ab27#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><span data-v-ecbf465a="" class="count">4</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><!----><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5ea650ca518825739915b34c|4" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5ea650a6f265da480c033eaf" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="57a2773ac4c971005afae24d" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/57a2773ac4c971005afae24d" target="_blank" rel="" st:name="user" st:state="57a2773ac4c971005afae24d" data-v-b628736a="">coding01</a></div></li><li data-v-ecbf465a="" class="item">11天前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/iOS" target="_blank" rel="" st:name="tag" st:state="5597838ae4b08a686ce23139" class="tag">iOS</a><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5ea650a6f265da480c033eaf" target="_blank" rel="" st:name="title" class="title">Texture ASCollectionNode 结合腾讯云TRTC实现多人上台直播</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">5</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5ea650a6f265da480c033eaf#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><span data-v-ecbf465a="" class="count">5</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5e9ae094e51d4546b2061c37|5" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5e9adea16fb9a03c364f216e" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="56e50bc8b014600029ff9ce0" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/56e50bc8b014600029ff9ce0" target="_blank" rel="" st:name="user" st:state="56e50bc8b014600029ff9ce0" data-v-b628736a="">南华Coder</a></div></li><li data-v-ecbf465a="" class="item">20天前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5e9adea16fb9a03c364f216e" target="_blank" rel="" st:name="title" class="title">iOS SDK开发二三事</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">12</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5e9adea16fb9a03c364f216e#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><span data-v-ecbf465a="" class="count">13</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><!----><!----><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5e9e4bce51882573a137a01e|4" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5e9afe726fb9a03c3550f18a" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="56e50bc8b014600029ff9ce0" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/56e50bc8b014600029ff9ce0" target="_blank" rel="" st:name="user" st:state="56e50bc8b014600029ff9ce0" data-v-b628736a="">南华Coder</a></div></li><li data-v-ecbf465a="" class="item">17天前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5e9afe726fb9a03c3550f18a" target="_blank" rel="" st:name="title" class="title">iOS 符号二三事</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">10</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5e9afe726fb9a03c3550f18a#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><!----></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5e9d4400518825737e0f901d|5" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5e9d425ae51d4546cd2ff4c3" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="5dd4ee47e51d453694598c63" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/5dd4ee47e51d453694598c63" target="_blank" rel="" st:name="user" st:state="5dd4ee47e51d453694598c63" data-v-b628736a="">iOSer1024</a></div></li><li data-v-ecbf465a="" class="item">18天前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5e9d425ae51d4546cd2ff4c3" target="_blank" rel="" st:name="title" class="title">iOS Runtime——objc_class的深入了解</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">6</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5e9d425ae51d4546cd2ff4c3#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><span data-v-ecbf465a="" class="count">4</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5e8571bb6fb9a03c42378cf3|6" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5e85717151882573ac3cdd6d" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="572febe51ea49300609f1e91" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/572febe51ea49300609f1e91" target="_blank" rel="" st:name="user" st:state="572febe51ea49300609f1e91" data-v-b628736a="">c4ibD3</a></div></li><li data-v-ecbf465a="" class="item">1月前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5e85717151882573ac3cdd6d" target="_blank" rel="" st:name="title" class="title">CTMediator 的初体验</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">4</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5e85717151882573ac3cdd6d#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><span data-v-ecbf465a="" class="count">20</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5e7a32b46fb9a07c8e6a5ae1|7" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5e7a322f6fb9a07ca24f79bb" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="57bd36915bbb5000630e5e7c" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/57bd36915bbb5000630e5e7c" target="_blank" rel="" st:name="user" st:state="57bd36915bbb5000630e5e7c" data-v-b628736a="">夜幕降临耶</a></div></li><li data-v-ecbf465a="" class="item">1月前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5e7a322f6fb9a07ca24f79bb" target="_blank" rel="" st:name="title" class="title">iOS底层原理：weak的实现原理</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">21</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5e7a322f6fb9a07ca24f79bb#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><span data-v-ecbf465a="" class="count">3</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5e92c15751882573cc56b84b|8" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5e8e99ee6fb9a03c880f478a" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="5df88e70e51d45584221d6da" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/5df88e70e51d45584221d6da" target="_blank" rel="" st:name="user" st:state="5df88e70e51d45584221d6da" data-v-b628736a="">JasonPa</a></div></li><li data-v-ecbf465a="" class="item">26天前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5e8e99ee6fb9a03c880f478a" target="_blank" rel="" st:name="title" class="title">iOS大师养成之路--方法的旅程</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">7</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5e8e99ee6fb9a03c880f478a#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><span data-v-ecbf465a="" class="count">4</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5e7c5ccd51882535a23a1dc6|9" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5e7c5c8ce51d455c0e12dd7a" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="5b542b76e51d4533d2042b62" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/5b542b76e51d4533d2042b62" target="_blank" rel="" st:name="user" st:state="5b542b76e51d4533d2042b62" data-v-b628736a="">QiShare</a></div></li><li data-v-ecbf465a="" class="item">1月前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/iOS" target="_blank" rel="" st:name="tag" st:state="5597838ae4b08a686ce23139" class="tag">iOS</a><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5e7c5c8ce51d455c0e12dd7a" target="_blank" rel="" st:name="title" class="title">iOS 查看及导出项目运行日志</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">27</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5e7c5c8ce51d455c0e12dd7a#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><span data-v-ecbf465a="" class="count">3</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5e6fae5a5188254901608745|10" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5e6fac36e51d4526e75003ef" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="5e09e418f265da33f86541ee" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/5e09e418f265da33f86541ee" target="_blank" rel="" st:name="user" st:state="5e09e418f265da33f86541ee" data-v-b628736a="">师大小海腾</a></div></li><li data-v-ecbf465a="" class="item">1月前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5e6fac36e51d4526e75003ef" target="_blank" rel="" st:name="title" class="title">iOS - 聊聊 autorelease 和 @autoreleasepool</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">21</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5e6fac36e51d4526e75003ef#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><span data-v-ecbf465a="" class="count">21</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5d85cc79e51d453b5e465bff|11" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5d85c3fde51d453b7779d604" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="57dddcd8128fe10064cadee9" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/57dddcd8128fe10064cadee9" target="_blank" rel="" st:name="user" st:state="57dddcd8128fe10064cadee9" data-v-b628736a="">RainDou</a></div></li><li data-v-ecbf465a="" class="item">7月前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5d85c3fde51d453b7779d604" target="_blank" rel="" st:name="title" class="title">iOS 13 问题解决以及苹果登录,暗黑模式</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">84</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5d85c3fde51d453b7779d604#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><span data-v-ecbf465a="" class="count">29</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5e9c2c0ce51d4546c349eda3|12" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5e9c28f56fb9a03c860b8531" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="5e09e418f265da33f86541ee" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/5e09e418f265da33f86541ee" target="_blank" rel="" st:name="user" st:state="5e09e418f265da33f86541ee" data-v-b628736a="">师大小海腾</a></div></li><li data-v-ecbf465a="" class="item">23天前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5e9c28f56fb9a03c860b8531" target="_blank" rel="" st:name="title" class="title">iOS - 老生常谈内存管理（四）：内存管理方法源码分析</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">8</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5e9c28f56fb9a03c860b8531#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><!----></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5e99b2c36fb9a03c550febf5|13" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5e99ae39e51d45470c12c516" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="5e09e418f265da33f86541ee" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/5e09e418f265da33f86541ee" target="_blank" rel="" st:name="user" st:state="5e09e418f265da33f86541ee" data-v-b628736a="">师大小海腾</a></div></li><li data-v-ecbf465a="" class="item">24天前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5e99ae39e51d45470c12c516" target="_blank" rel="" st:name="title" class="title">iOS - 老生常谈内存管理（三）：ARC 面世</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">5</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5e99ae39e51d45470c12c516#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><span data-v-ecbf465a="" class="count">2</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5e831ef551882573c15ecafc|14" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5e7a3491f265da57201814e9" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="57bd36915bbb5000630e5e7c" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/57bd36915bbb5000630e5e7c" target="_blank" rel="" st:name="user" st:state="57bd36915bbb5000630e5e7c" data-v-b628736a="">夜幕降临耶</a></div></li><li data-v-ecbf465a="" class="item">1月前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5e7a3491f265da57201814e9" target="_blank" rel="" st:name="title" class="title">iOS RunLoop详解</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">15</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5e7a3491f265da57201814e9#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><span data-v-ecbf465a="" class="count">3</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5e5e920af265da57301bfce2|15" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5e526c8af265da572017e989" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="5d58faff51882562744fab9f" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/5d58faff51882562744fab9f" target="_blank" rel="" st:name="user" st:state="5d58faff51882562744fab9f" data-v-b628736a="">李斌同学</a></div></li><li data-v-ecbf465a="" class="item">2月前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5e526c8af265da572017e989" target="_blank" rel="" st:name="title" class="title">iOS 底层 - 类的本质与方法缓存</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">31</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5e526c8af265da572017e989#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><span data-v-ecbf465a="" class="count">9</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><div data-v-95ddf8f6="" data-v-4802f2b2="" data-v-ecbf465a="" data-src="https://user-gold-cdn.xitu.io/2020/3/4/170a169f1c4a3bcd?imageView2/1/w/120/h/120/q/85/interlace/1" class="lazy thumb thumb" style="background-image: none; background-size: cover;"></div></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5e9888a86fb9a03c5f7400ee|16" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5e98870e6fb9a03c4a497fac" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="5e09e418f265da33f86541ee" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/5e09e418f265da33f86541ee" target="_blank" rel="" st:name="user" st:state="5e09e418f265da33f86541ee" data-v-b628736a="">师大小海腾</a></div></li><li data-v-ecbf465a="" class="item">25天前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5e98870e6fb9a03c4a497fac" target="_blank" rel="" st:name="title" class="title">iOS - 老生常谈内存管理（二）：从 MRC 说起</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">4</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5e98870e6fb9a03c4a497fac#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><span data-v-ecbf465a="" class="count">4</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5e9d7fbaf265da47ad21a486|17" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5e9d7e8be51d4546db438947" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="5e09e418f265da33f86541ee" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/5e09e418f265da33f86541ee" target="_blank" rel="" st:name="user" st:state="5e09e418f265da33f86541ee" data-v-b628736a="">师大小海腾</a></div></li><li data-v-ecbf465a="" class="item">21天前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5e9d7e8be51d4546db438947" target="_blank" rel="" st:name="title" class="title">iOS - 老生常谈内存管理（五）：Tagged Pointer</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">3</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5e9d7e8be51d4546db438947#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><!----></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5e7713876fb9a07c7f6094e4|18" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5e77135e6fb9a07ca714dbc4" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="5d8c59d05188250924536c95" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/5d8c59d05188250924536c95" target="_blank" rel="" st:name="user" st:state="5d8c59d05188250924536c95" data-v-b628736a="">Luminix</a></div></li><li data-v-ecbf465a="" class="item">1月前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5e77135e6fb9a07ca714dbc4" target="_blank" rel="" st:name="title" class="title">调试iOS用户交互事件响应流程</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable liked"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/zan-active.svg" class="icon"><span data-v-ecbf465a="" class="count active">18</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5e77135e6fb9a07ca714dbc4#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><span data-v-ecbf465a="" class="count">2</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5d89dd61f265da03ea5abda6|19" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5d89dc766fb9a06b0e54d251" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="57bba4c5128fe1005f92dad8" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/57bba4c5128fe1005f92dad8" target="_blank" rel="" st:name="user" st:state="57bba4c5128fe1005f92dad8" data-v-b628736a="">Saylor_Lone</a></div></li><li data-v-ecbf465a="" class="item">7月前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5d89dc766fb9a06b0e54d251" target="_blank" rel="" st:name="title" class="title">iOS 13 适配 ING...</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">47</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5d89dc766fb9a06b0e54d251#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><span data-v-ecbf465a="" class="count">26</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5d746015f265da03b81084af|20" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5d745f8af265da03b5746fa0" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="5d745ea6e51d456210163c17" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/5d745ea6e51d456210163c17" target="_blank" rel="" st:name="user" st:state="5d745ea6e51d456210163c17" data-v-b628736a="">半称心17</a></div></li><li data-v-ecbf465a="" class="item">8月前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5d745f8af265da03b5746fa0" target="_blank" rel="" st:name="title" class="title">iOS13适配</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">78</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5d745f8af265da03b5746fa0#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><span data-v-ecbf465a="" class="count">20</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5e98866c6fb9a03c880f561a|21" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5e988639f265da47c4322698" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="5e09e418f265da33f86541ee" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/5e09e418f265da33f86541ee" target="_blank" rel="" st:name="user" st:state="5e09e418f265da33f86541ee" data-v-b628736a="">师大小海腾</a></div></li><li data-v-ecbf465a="" class="item">25天前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5e988639f265da47c4322698" target="_blank" rel="" st:name="title" class="title">iOS - 老生常谈内存管理：导读</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">2</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5e988639f265da47c4322698#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><span data-v-ecbf465a="" class="count">2</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5e7f1050e51d4547106ded41|22" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5e7a3490e51d450efb2c1826" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="57bd36915bbb5000630e5e7c" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/57bd36915bbb5000630e5e7c" target="_blank" rel="" st:name="user" st:state="57bd36915bbb5000630e5e7c" data-v-b628736a="">夜幕降临耶</a></div></li><li data-v-ecbf465a="" class="item">1月前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5e7a3490e51d450efb2c1826" target="_blank" rel="" st:name="title" class="title">iOS内存管理二：自动释放池autoreleasepool</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">12</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5e7a3490e51d450efb2c1826#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><!----></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5e6def2bf265da57082a015b|23" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5e6deef5e51d45271515770e" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="57bd36915bbb5000630e5e7c" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/57bd36915bbb5000630e5e7c" target="_blank" rel="" st:name="user" st:state="57bd36915bbb5000630e5e7c" data-v-b628736a="">夜幕降临耶</a></div></li><li data-v-ecbf465a="" class="item">1月前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5e6deef5e51d45271515770e" target="_blank" rel="" st:name="title" class="title">iOS多线程：GCD详解</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">18</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5e6deef5e51d45271515770e#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><span data-v-ecbf465a="" class="count">1</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5e832f236fb9a03c6e6414e7|24" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5e81aeba518825736952f5fe" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="5df88e70e51d45584221d6da" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/5df88e70e51d45584221d6da" target="_blank" rel="" st:name="user" st:state="5df88e70e51d45584221d6da" data-v-b628736a="">JasonPa</a></div></li><li data-v-ecbf465a="" class="item">1月前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5e81aeba518825736952f5fe" target="_blank" rel="" st:name="title" class="title">iOS 大师养成之路--对象的本质</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">4</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5e81aeba518825736952f5fe#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><span data-v-ecbf465a="" class="count">2</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5e678e006fb9a07ccd519b96|25" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5e678c526fb9a07c994bf1d8" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="58229b8ea0bb9f0058cd2738" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/58229b8ea0bb9f0058cd2738" target="_blank" rel="" st:name="user" st:state="58229b8ea0bb9f0058cd2738" data-v-b628736a="">SimonYe</a></div></li><li data-v-ecbf465a="" class="item">2月前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5e678c526fb9a07c994bf1d8" target="_blank" rel="" st:name="title" class="title">iOS底层探索 - 通过objc_msgSend实现iOS方法耗时监控</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable liked"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/zan-active.svg" class="icon"><span data-v-ecbf465a="" class="count active">16</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5e678c526fb9a07c994bf1d8#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><span data-v-ecbf465a="" class="count">2</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><div data-v-95ddf8f6="" data-v-4802f2b2="" data-v-ecbf465a="" data-src="https://user-gold-cdn.xitu.io/2020/3/19/170f355d5c298332?imageView2/1/w/120/h/120/q/85/interlace/1" class="lazy thumb thumb" style="background-image: none; background-size: cover;"></div></div></a></div></div></li><li data-v-0dfe6a32="" class="item"><!----></li><!----></ul></div><div data-v-7301278b="" data-v-fa2339b8="" st:block="sidebar" class="sidebar sidebar sticky" data-v-6fdc8784=""><div data-v-16442876="" data-v-76358071="" data-v-7301278b="" class="sidebar-block author-block shadow"><div data-v-16442876="" class="block-title">关于作者</div><div data-v-16442876="" class="block-body"><a data-v-76358071="" href="https://juejin.im/user/5d8c59d05188250924536c95" target="_blank" rel="" class="user-item item" data-v-16442876=""><div data-v-95ddf8f6="" data-v-39db9419="" data-v-76358071="" data-src="https://user-gold-cdn.xitu.io/2019/9/28/16d76b53799bd39b?imageView2/1/w/100/h/100/q/85/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2019/9/28/16d76b53799bd39b?imageView2/1/w/100/h/100/q/85/interlace/1&quot;);"></div><div data-v-76358071="" class="info-box"><a data-v-263f3a32="" data-v-76358071="" href="https://juejin.im/user/5d8c59d05188250924536c95" target="_blank" rel="" class="username">Luminix<a data-v-6d94a6ea="" data-v-263f3a32="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-6d94a6ea="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/lv-1.svg" alt="lv-1"></a></a><!----></div></a><div data-v-76358071="" data-v-16442876="" class="stat-item item"><svg data-v-76358071="" data-v-16442876="" xmlns="http://www.w3.org/2000/svg" width="25" height="26" viewBox="0 0 25 26" class="zan"><g data-v-76358071="" data-v-16442876="" fill="none" fill-rule="evenodd" transform="translate(0 .57)"><ellipse data-v-76358071="" data-v-16442876="" cx="12.5" cy="12.57" fill="#E1EFFF" rx="12.5" ry="12.57"></ellipse> <path data-v-76358071="" data-v-16442876="" fill="#7BB9FF" d="M8.596 11.238V19H7.033C6.463 19 6 18.465 6 17.807v-5.282c0-.685.483-1.287 1.033-1.287h1.563zm4.275-4.156A1.284 1.284 0 0 1 14.156 6c.885.016 1.412.722 1.595 1.07.334.638.343 1.687.114 2.361-.207.61-.687 1.412-.687 1.412h3.596c.38 0 .733.178.969.488.239.317.318.728.21 1.102l-1.628 5.645a1.245 1.245 0 0 1-1.192.922h-7.068v-7.889c1.624-.336 2.623-2.866 2.806-4.029z"></path></g></svg> <span data-v-76358071="" data-v-16442876="" class="content">获得点赞<span data-v-76358071="" data-v-16442876="" class="count">43</span></span></div><div data-v-76358071="" data-v-16442876="" class="stat-item item"><svg data-v-76358071="" data-v-16442876="" width="25" height="25" viewBox="0 0 25 25" class="icon stat-view-icon"><g data-v-76358071="" data-v-16442876="" fill="none" fill-rule="evenodd"><circle data-v-76358071="" data-v-16442876="" cx="12.5" cy="12.5" r="12.5" fill="#E1EFFF"></circle> <path data-v-76358071="" data-v-16442876="" fill="#7BB9FF" d="M4 12.5S6.917 7 12.75 7s8.75 5.5 8.75 5.5-2.917 5.5-8.75 5.5S4 12.5 4 12.5zm8.75 2.292c1.208 0 2.188-1.026 2.188-2.292 0-1.266-.98-2.292-2.188-2.292-1.208 0-2.188 1.026-2.188 2.292 0 1.266.98 2.292 2.188 2.292z"></path></g></svg> <span data-v-76358071="" data-v-16442876="" class="content">文章被阅读<span data-v-76358071="" data-v-16442876="" class="count">3,126</span></span></div><!----></div></div><!----><div data-v-3b242246="" data-v-518a2f8f="" data-v-7301278b="" class="index-book-collect" place="post" category="5562b405e4b00c57d9b94a41"><div data-v-3b242246="" class="header"><div data-v-3b242246="" class="title">掘金小册</div><div data-v-3b242246="" class="controllers"><div data-v-3b242246="" class="arrow icon ion-chevron-left"></div><div data-v-3b242246="" class="arrow icon ion-chevron-right"></div></div></div><div data-v-3b242246="" class="slide-book transition--next"><div data-v-a0652dc6="" data-v-3b242246="" class="slide-book-list item"><a data-v-a0652dc6="" href="https://juejin.im/book/5d8ae0c2f265da5bb065c6f4" class="item"><div data-v-a0652dc6="" class="poster"><div data-v-95ddf8f6="" data-v-4802f2b2="" data-v-a0652dc6="" data-src="https://user-gold-cdn.xitu.io/2020/3/15/170dcdbe69f8bd21?imageView2/1/w/104/h/144/q/95/interlace/1" class="lazy thumb poster-img loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2020/3/15/170dcdbe69f8bd21?imageView2/1/w/104/h/144/q/95/interlace/1&quot;); background-size: cover;"></div></div><div data-v-a0652dc6="" class="content-text"><div data-v-a0652dc6="" class="title">React SSR 服务端渲染原理解析与同构实践</div><div data-v-a0652dc6="" class="price"><div data-v-a0652dc6="" class="new">新人价 ￥9.95</div><div data-v-a0652dc6="" class="delete">￥19.9</div></div></div></a><a data-v-a0652dc6="" href="https://juejin.im/book/5b936540f265da0a9624b04b" class="item"><div data-v-a0652dc6="" class="poster"><div data-v-95ddf8f6="" data-v-4802f2b2="" data-v-a0652dc6="" data-src="https://user-gold-cdn.xitu.io/2018/10/23/166a0387b91066b9?imageView2/1/w/104/h/144/q/95/interlace/1" class="lazy thumb poster-img loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2018/10/23/166a0387b91066b9?imageView2/1/w/104/h/144/q/95/interlace/1&quot;); background-size: cover;"></div></div><div data-v-a0652dc6="" class="content-text"><div data-v-a0652dc6="" class="title">前端性能优化原理与实践</div><div data-v-a0652dc6="" class="price"><div data-v-a0652dc6="" class="new">新人价 ￥9.95</div><div data-v-a0652dc6="" class="delete">￥19.9</div></div></div></a></div></div><div data-v-3b242246="" class="book-newuser"><div data-v-3b242246="" class="newuser-title"><span data-v-3b242246="">新人专享好礼</span></div><div data-v-3b242246="" class="giftbag"><img data-v-3b242246="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/45.svg"><div data-v-3b242246="" class="content-text"><div data-v-3b242246="" class="title">送你<span data-v-3b242246="" class="highlight">45元</span>买小册</div><div data-v-3b242246="" class="btn-box"><div data-v-3b242246="" class="btn-giftbag">立即领取</div></div></div></div></div></div><div data-v-16442876="" data-v-03315f79="" data-v-7301278b="" class="sidebar-block app-download-sidebar-block shadow"><!----><div data-v-16442876="" class="block-body"><a data-v-03315f79="" data-v-16442876="" class="app-link" href="https://juejin.im/app" target="_blank"><img data-v-03315f79="" data-v-16442876="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/post.png" class="qr-img"><div data-v-03315f79="" data-v-16442876="" class="content-box"><div data-v-03315f79="" data-v-16442876="" class="headline">下载掘金客户端</div><div data-v-03315f79="" data-v-16442876="" class="desc">一个帮助开发者成长的社区</div></div><div data-v-03315f79="" data-v-16442876="" title="关闭" class="close-btn ion-close-round"></div></a></div></div><div data-v-16442876="" data-v-3c6504c4="" data-v-7301278b="" class="sidebar-block wechat-sidebar-block pure"><div data-v-06f599f1="" data-v-3c6504c4="" class="wechat-banner" data-v-16442876=""><img data-v-06f599f1="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/ios.png" class="wechat-img"></div><div data-v-3c6504c4="" data-v-16442876="" title="关闭" class="close-btn ion-close-round"></div></div><div data-v-16442876="" data-v-2998ad53="" data-v-7301278b="" class="sidebar-block related-entry-sidebar-block shadow" st:block="relatedEntrySidebarBlock"><div data-v-16442876="" class="block-title">相关文章</div><div data-v-16442876="" class="block-body"><div data-v-2998ad53="" data-v-16442876="" class="entry-list"><a data-v-2998ad53="" href="https://juejin.im/post/5e77135e6fb9a07ca714dbc4" target="_blank" rel="" st:name="link" class="item" data-v-16442876=""><div data-v-2998ad53="" class="entry-title">调试iOS用户交互事件响应流程</div><div data-v-2998ad53="" class="entry-meta-box"><div data-v-2998ad53="" class="entry-meta"><img data-v-2998ad53="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-2998ad53="" class="count">17</span></div><div data-v-2998ad53="" class="entry-meta"><img data-v-2998ad53="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/comment.svg" class="icon"><span data-v-2998ad53="" class="count">2</span></div></div></a><a data-v-2998ad53="" href="https://juejin.im/post/5da17d08e51d45783a772a13" target="_blank" rel="" st:name="link" class="item" data-v-16442876=""><div data-v-2998ad53="" class="entry-title">Runtime源代码解读2（类和对象）</div><div data-v-2998ad53="" class="entry-meta-box"><div data-v-2998ad53="" class="entry-meta"><img data-v-2998ad53="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-2998ad53="" class="count">7</span></div><div data-v-2998ad53="" class="entry-meta"><img data-v-2998ad53="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/comment.svg" class="icon"><span data-v-2998ad53="" class="count">2</span></div></div></a><a data-v-2998ad53="" href="https://juejin.im/post/5da72b9af265da5b6a16a647" target="_blank" rel="" st:name="link" class="item" data-v-16442876=""><div data-v-2998ad53="" class="entry-title">Runtime源代码解读7（深入探讨面向对象实现细节）</div><div data-v-2998ad53="" class="entry-meta-box"><div data-v-2998ad53="" class="entry-meta"><img data-v-2998ad53="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-2998ad53="" class="count">4</span></div><div data-v-2998ad53="" class="entry-meta"><img data-v-2998ad53="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/comment.svg" class="icon"><span data-v-2998ad53="" class="count">1</span></div></div></a><a data-v-2998ad53="" href="https://juejin.im/post/5e7f5ed76fb9a03c3b2bb0cd" target="_blank" rel="" st:name="link" class="item" data-v-16442876=""><div data-v-2998ad53="" class="entry-title">RunLoop与事件响应</div><div data-v-2998ad53="" class="entry-meta-box"><div data-v-2998ad53="" class="entry-meta"><img data-v-2998ad53="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-2998ad53="" class="count">6</span></div><div data-v-2998ad53="" class="entry-meta"><img data-v-2998ad53="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/comment.svg" class="icon"><span data-v-2998ad53="" class="count">1</span></div></div></a><a data-v-2998ad53="" href="https://juejin.im/post/5d8c7aab51882505d334d7a5" target="_blank" rel="" st:name="link" class="item" data-v-16442876=""><div data-v-2998ad53="" class="entry-title">Runtime源代码解读（实现面向对象初探）</div><div data-v-2998ad53="" class="entry-meta-box"><div data-v-2998ad53="" class="entry-meta"><img data-v-2998ad53="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-2998ad53="" class="count">1</span></div><div data-v-2998ad53="" class="entry-meta"><img data-v-2998ad53="" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/comment.svg" class="icon"><span data-v-2998ad53="" class="count">0</span></div></div></a></div></div></div><div data-v-7301278b="" class="sticky-block-box"><div data-v-16442876="" data-v-48b1e3e4="" data-v-7301278b="" class="sidebar-block catalog-block pure"><nav data-v-1a96e633="" data-v-48b1e3e4="" class="article-catalog" style="" data-v-16442876=""><div data-v-1a96e633="" class="catalog-title">目录</div><div data-v-1a96e633="" class="catalog-body"><ul data-v-1a96e633="" class="catalog-list" style="margin-top: 0px;"><li data-v-1a96e633="" class="item d1"><a href="#heading-0" title="RunLoop与事件响应">RunLoop与事件响应</a><ul class="sub-list"><li class="item d2"><a href="#heading-1" title="一、XNU内核和Mach">一、XNU内核和Mach</a><ul class="sub-list"><li class="item d3"><a href="#heading-2" title="1.1 XNU内核架构">1.1 XNU内核架构</a><!----></li><li class="item d3 active"><a href="#heading-3" title="1.2 mach_msg">1.2 mach_msg</a><!----></li></ul></li><li class="item d2"><a href="#heading-4" title="二、RunLoop调试">二、RunLoop调试</a><ul class="sub-list"><li class="item d3"><a href="#heading-5" title="2.1 RunLoop简介">2.1 RunLoop简介</a><ul class="sub-list"><li class="item d4" style="display: none;"><a href="#heading-6" title="2.1.1 Input Sources">2.1.1 Input Sources</a><ul class="sub-list"><li class="item d5" style="display: none;"><a href="#heading-7" title="Source0和Source1">Source0和Source1</a><!----></li><li class="item d5" style="display: none;"><a href="#heading-8" title="Timer">Timer</a><!----></li><li class="item d5" style="display: none;"><a href="#heading-9" title="Observer">Observer</a><!----></li></ul></li><li class="item d4" style="display: none;"><a href="#heading-10" title="2.1.2 Modes">2.1.2 Modes</a><ul class="sub-list"><li class="item d5" style="display: none;"><a href="#heading-11" title="Common Modes">Common Modes</a><!----></li></ul></li></ul></li><li class="item d3"><a href="#heading-12" title="2.2 RunLoop与线程">2.2 RunLoop与线程</a><!----></li><li class="item d3"><a href="#heading-13" title="2.3 RunLoop的API">2.3 RunLoop的API</a><ul class="sub-list"><li class="item d4" style="display: none;"><a href="#heading-14" title="2.3.1 RunLoop操作API">2.3.1 RunLoop操作API</a><ul class="sub-list"><li class="item d5" style="display: none;"><a href="#heading-15" title="运行RunLoop">运行RunLoop</a><!----></li><li class="item d5" style="display: none;"><a href="#heading-16" title="唤醒RunLoop">唤醒RunLoop</a><!----></li><li class="item d5" style="display: none;"><a href="#heading-17" title="中止RunLoop">中止RunLoop</a><!----></li><li class="item d5" style="display: none;"><a href="#heading-18" title="RunLoop的等待状态">RunLoop的等待状态</a><!----></li></ul></li></ul></li><li class="item d3"><a href="#heading-19" title="2.4 RunLoop的流程">2.4 RunLoop的流程</a><ul class="sub-list"><li class="item d4" style="display: none;"><a href="#heading-20" title="2.4.1 LLDB调试RunLoop流程">2.4.1 LLDB调试RunLoop流程</a><ul class="sub-list"><li class="item d5" style="display: none;"><a href="#heading-21" title="Source0调试">Source0调试</a><!----></li><li class="item d5" style="display: none;"><a href="#heading-22" title="Source1调试">Source1调试</a><!----></li><li class="item d5" style="display: none;"><a href="#heading-23" title="Timer调试">Timer调试</a><!----></li><li class="item d5" style="display: none;"><a href="#heading-24" title="Observer调试">Observer调试</a><!----></li></ul></li><li class="item d4" style="display: none;"><a href="#heading-25" title="2.4.2 解读RunLoop源代码">2.4.2 解读RunLoop源代码</a><!----></li></ul></li></ul></li><li class="item d2"><a href="#heading-26" title="三、RunLoop与事件响应">三、RunLoop与事件响应</a><!----></li><li class="item d2"><a href="#heading-27" title="四、总结">四、总结</a><!----></li></ul></li></ul></div></nav></div></div></div><div data-v-b753df20="" data-v-fa2339b8="" class="article-suspended-panel article-suspended-panel" data-v-6fdc8784=""><div data-v-b753df20="" class="like-btn panel-btn like-adjust active with-badge" badge="6"></div><div data-v-b753df20="" class="comment-btn panel-btn comment-adjust with-badge" badge="1"></div><div data-v-b753df20="" class="collect-btn panel-btn"><!----></div><div data-v-b753df20="" class="share-title">分享</div><div data-v-b753df20="" class="weibo-btn share-btn panel-btn"></div><div data-v-b753df20="" class="qq-btn share-btn panel-btn"></div><div data-v-b753df20="" class="wechat-btn share-btn panel-btn"><img data-v-b753df20="" src="" class="wechat-qr-code-img shadow" style="display: none;"></div></div><div data-v-0a49d917="" data-v-fa2339b8="" class="image-viewer-box" data-v-6fdc8784=""><!----></div><!----></div></main></div><!----></div>
      
      
      
      <script type="text/javascript" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/runtime.js"></script><script type="text/javascript" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/0.js"></script><script type="text/javascript" src="RunLoop%E4%B8%8E%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%20-%20%E6%8E%98%E9%87%91_files/1.js"></script>
    </body></html>