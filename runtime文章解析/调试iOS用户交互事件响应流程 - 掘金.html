<!DOCTYPE html>
<html lang="zh-Hans"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no,viewport-fit=cover"><meta name="google-site-verification" content="cCHsgG9ktuCTgWgYfqCJql8AeR4gAne4DTZqztPoirE"><meta name="google-site-verification" content="nPvn9R5NJLsZKTv5VKIbn0OmkRcJ4PC6KdDoTX3n5Mw"><meta name="apple-itunes-app" content="app-id=987739104"><meta name="baidu-site-verification" content="qiK2a1kcFc"><meta name="360-site-verification" content="4c3c7d57d59f0e1a308462fbc7fd7e51"><meta name="sogou_site_verification" content="c49WUDZczQ"><style>body {
        font-size: 16px;
        line-height: 2;
      }
      a, button, input {
        margin: 1rem 1.5rem;
      }
      img {
        width: 0;
        height: 0;
      }
      #juejin {
        overflow-x: hidden;
      }</style><title data-vue-meta="true">调试iOS用户交互事件响应流程 - 掘金</title><link rel="apple-touch-icon" sizes="180x180" href="https://b-gold-cdn.xitu.io/favicons/v2/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://b-gold-cdn.xitu.io/favicons/v2/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://b-gold-cdn.xitu.io/favicons/v2/favicon-16x16.png"><link rel="manifest" href="https://b-gold-cdn.xitu.io/favicons/v2/manifest.json"><link rel="mask-icon" href="https://b-gold-cdn.xitu.io/favicons/v2/safari-pinned-tab.svg" color="#5bbad5"><link rel="shortcut icon" href="https://b-gold-cdn.xitu.io/favicons/v2/favicon.ico"><meta name="msapplication-config" content="https://b-gold-cdn.xitu.io/favicons/v2/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="search" title="掘金" href="https://b-gold-cdn.xitu.io/conf/search.xml" type="application/opensearchdescription+xml"><link rel="stylesheet" href="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/ionicons.css"><link rel="stylesheet" href="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/iconfont.css"><link href="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/0.css" rel="stylesheet"><script async="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/hm.js"></script><script async="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/analytics.js"></script><script type="text/javascript" async="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/vds.js"></script><script type="text/javascript" async="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/collect-v.js"></script><script charset="utf-8" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/4.js"></script><style id="style-1-cropbar-clipper">/* Copyright 2014 Evernote Corporation. All rights reserved. */
.en-markup-crop-options {
    top: 18px !important;
    left: 50% !important;
    margin-left: -100px !important;
    width: 200px !important;
    border: 2px rgba(255,255,255,.38) solid !important;
    border-radius: 4px !important;
}

.en-markup-crop-options div div:first-of-type {
    margin-left: 0px !important;
}
</style><meta data-vmid="keywords" name="keywords" content="Objective-C" data-vue-meta="true"><meta data-vmid="description" name="description" content="[TOC] 调试iOS用户交互事件响应流程 2020-03-19 通常 iOS 界面开发中处理各种用户交互事件。其中，UIControlEvent以注册的 Target-Action 的方式绑定到控件；UIGestureRecognizer通过addGestu" data-vue-meta="true"></head><body><div id="juejin" data-v-2a21baac=""><div class="global-component-box" data-v-2a21baac=""><!----><div data-v-5ef5fb43="" data-v-2a21baac="" class="alert-list alert-list"></div><div data-v-15608c17="" data-v-2a21baac="" class="suspension-panel suspension-panel"><button data-v-15608c17="" title="回到顶部" class="btn to-top-btn" style="display: none;"><i data-v-15608c17="" class="ion-android-arrow-dropup"></i></button><button data-v-15608c17="" title="建议反馈" class="btn meiqia-btn" style=""><i data-v-15608c17="" class="ion-chatbubble-working"></i></button></div><!----><!----><div class="emoji-barrage" data-v-94fd086c="" data-v-2a21baac=""><!----></div><div class="book-new-user-award-popup" style="display:none;" data-v-22fa60e5="" data-v-2a21baac=""><div class="content-box" style="display:;" data-v-22fa60e5=""><div class="close ion-close-round" data-v-22fa60e5=""></div><div class="header" data-v-22fa60e5=""><div class="icon" data-v-22fa60e5=""><img src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/icon.svg" data-v-22fa60e5=""></div><div class="txt" data-v-22fa60e5="">新人专享好礼</div></div><div class="desc" data-v-22fa60e5="">凡未购买过小册的用户，均可领取三张 5 折新人专享券，购买小册时自动使用专享券，最高可节省 45 元。</div><div class="tickets" data-v-22fa60e5=""><div class="ticket" data-v-22fa60e5=""><div class="ticket__inner" data-v-22fa60e5=""><div class="enjoy" data-v-22fa60e5=""><span class="new-title" data-v-22fa60e5="">小册新人 5 折券</span></div><div class="sale" data-v-22fa60e5="">最高可省 15 元</div></div></div><div class="ticket" data-v-22fa60e5=""><div class="ticket__inner" data-v-22fa60e5=""><div class="enjoy" data-v-22fa60e5=""><span class="new-title" data-v-22fa60e5="">小册新人 5 折券</span></div><div class="sale" data-v-22fa60e5="">最高可省 15 元</div></div></div><div class="ticket" data-v-22fa60e5=""><div class="ticket__inner" data-v-22fa60e5=""><div class="enjoy" data-v-22fa60e5=""><span class="new-title" data-v-22fa60e5="">小册新人 5 折券</span></div><div class="sale" data-v-22fa60e5="">最高可省 15 元</div></div></div></div><div class="remark" data-v-22fa60e5="">注：专享券的使用期限在领券的七天内。</div><div class="submit-btn" data-v-22fa60e5="">一键领取</div></div><div class="model success" style="display:none;" data-v-22fa60e5=""><div class="heading" data-v-22fa60e5="">领取成功</div><div class="content-text" data-v-22fa60e5="">购买小册时自动使用专享券</div><div class="btn-success-footer" data-v-22fa60e5=""><div class="btn-ok" data-v-22fa60e5="">知道了</div><div class="btn-ok btn-link" data-v-22fa60e5="">前往小册首页</div></div></div><div class="model fail" style="display:none;" data-v-22fa60e5=""><div class="heading" data-v-22fa60e5="">领取失败</div><div class="content-text" data-v-22fa60e5="">本活动仅适用于小册新用户</div><div class="btn-ok" data-v-22fa60e5="">知道了</div></div></div><!----><!----><div class="bind-phone-number-modal-box" data-v-269c0ad0="" data-v-2a21baac=""><div st:block="bindPhoneNumberModal" class="modal-mask" style="display:none;" data-v-269c0ad0=""></div><form class="bind-phone-number-form" style="display:none;" data-v-269c0ad0=""><i title="关闭" class="close-btn ion-close-round" data-v-269c0ad0=""></i><h1 class="title" data-v-269c0ad0="">提示</h1><h2 class="hint" data-v-269c0ad0="">根据我国<a href="http://www.cac.gov.cn/2017-08/25/c_1121541842.htm" target="_blank" style="color:#007fff">《互联网跟帖评论服务管理规定》</a>，您需要绑定手机号后才可在掘金社区内发布内容。</h2><div class="input-group" data-v-269c0ad0=""><div class="input-box" data-v-269c0ad0=""><input maxlength="64" placeholder="请输入要绑定的手机号码" class="input" data-v-269c0ad0=""></div><!----><!----></div><button st:name="bindBtn" class="btn" data-v-269c0ad0="">绑定手机</button></form></div></div><!----><div data-v-6fdc8784="" data-v-fa2339b8="" data-v-2a21baac="" class="view-container"><div data-v-6fdc8784="" class="main-header-box"><header data-v-0c56945c="" data-v-6fdc8784="" class="main-header main-header visible"><div data-v-0c56945c="" class="container"><a data-v-0c56945c="" href="https://juejin.im/" class="logo"><img data-v-0c56945c="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/logo.svg" alt="掘金" class="logo-img"><img data-v-0c56945c="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/simplify-logo.svg" alt="掘金" class="mobile"></a><nav data-v-0c56945c="" role="navigation" class="main-nav"><ul data-v-0c56945c="" class="nav-list"><li data-v-0c56945c="" class="main-nav-list"><div data-v-0c56945c="" class="phone-show-menu"><span data-v-0c56945c="">首页</span><div data-v-0c56945c="" class="icon ion-arrow-down-b"></div></div><ul data-v-0c56945c="" class="phone-hide"><li data-v-0c56945c="" class="nav-item link-item route-active"><a data-v-0c56945c="" href="https://juejin.im/">首页</a></li><li data-v-0c56945c="" class="nav-item link-item activities"><a data-v-0c56945c="" href="https://juejin.im/pins">沸点</a></li><li data-v-0c56945c="" class="nav-item link-item"><a data-v-0c56945c="" href="https://juejin.im/topics">话题</a></li><li data-v-0c56945c="" class="nav-item link-item book"><a data-v-0c56945c="" href="https://juejin.im/books">小册</a></li><li data-v-0c56945c="" class="nav-item link-item"><a data-v-0c56945c="" href="https://juejin.im/events/all">活动</a></li></ul></li><li data-v-0c56945c="" class="nav-item search"><form data-v-0c56945c="" role="search" class="search-form"><input data-v-0c56945c="" type="search" maxlength="32" placeholder="搜索掘金" class="search-input"><img data-v-0c56945c="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/juejin-search-icon.svg" alt="搜索" class="search-icon"></form></li><li data-v-0c56945c="" class="nav-item add"><div data-v-0c56945c="" class="add-group"><button data-v-0c56945c="" class="add-btn">写文章</button><div data-v-0c56945c="" class="more"><i data-v-0c56945c="" class="more-icon ion-android-arrow-dropdown"></i></div><ul data-v-0c56945c="" class="more-list"><li data-v-0c56945c="" class="item">发布沸点</li><li data-v-0c56945c="" class="item">分享链接</li><!----></ul></div><!----></li><li data-v-0c56945c="" class="nav-item notification"><a data-v-0c56945c="" class="app-link" href="https://juejin.im/notification" target="_blank"><i data-v-0c56945c="" class="icon ion-android-notifications"></i><!----></a></li><li data-v-0c56945c="" class="nav-item menu"><div data-v-95ddf8f6="" data-v-39db9419="" data-v-0c56945c="" data-src="https://mirror-gold-cdn.xitu.io/168e091634f3322953a?imageView2/1/w/100/h/100/q/85/interlace/1" class="lazy avatar avatar loaded immediate" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e091634f3322953a?imageView2/1/w/100/h/100/q/85/interlace/1&quot;);"></div><!----><ul data-v-0c56945c="" class="nav-menu user-dropdown-list" style="display: none;"><div data-v-0c56945c="" class="nav-menu-item-group"><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c=""><i data-v-0c56945c="" class="fengwei fw-write"></i><span data-v-0c56945c="">写文章</span></a></li><!----><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c=""><i data-v-0c56945c="" class="fengwei fw-draft"></i><span data-v-0c56945c="">草稿</span></a></li></div><div data-v-0c56945c="" class="nav-menu-item-group"><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c="" href="https://juejin.im/user/5b321518f265da595534f34d" class="link-icon"><i data-v-0c56945c="" class="fengwei fw-person"></i><span data-v-0c56945c="">我的主页</span><!----></a></li><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c="" href="https://juejin.im/user/5b321518f265da595534f34d/likes"><img data-v-0c56945c="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="zan"><span data-v-0c56945c="">我赞过的</span></a></li><!----><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c="" href="https://juejin.im/user/5b321518f265da595534f34d/collections"><img data-v-0c56945c="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="collect"><span data-v-0c56945c="">我的收藏集</span></a></li><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c="" href="https://juejin.im/user/5b321518f265da595534f34d/books?type=bought"><i data-v-0c56945c="" class="fengwei fw-bought"></i><span data-v-0c56945c="">已购</span></a></li><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c="" href="https://juejin.im/subscribe"><i data-v-0c56945c="" class="fengwei fw-tag"></i><span data-v-0c56945c="">标签管理</span></a></li></div><div data-v-0c56945c="" class="nav-menu-item-group"><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c="" href="https://juejin.im/user/settings"><i data-v-0c56945c="" class="fengwei fw-setting"></i><span data-v-0c56945c="">设置</span></a></li><li data-v-0c56945c="" class="nav-menu-item more"><a data-v-0c56945c=""><i data-v-0c56945c="" class="fengwei fw-info"></i><span data-v-0c56945c="">关于</span><i data-v-0c56945c="" class="ion-chevron-right more-icon"></i></a><ul data-v-0c56945c="" class="nav-menu more-dropdown-list"><div data-v-0c56945c="" class="nav-menu-item-group"><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c="" href="https://juejin.im/app" target="_blank">下载应用</a></li><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c="" href="https://juejin.im/about" target="_blank">关于</a></li><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c="" href="https://xitu.io/jobs" target="_blank">加入我们</a></li><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c="" href="https://github.com/xitu/gold-miner" rel="nofollow noopener noreferrer" target="_blank">翻译计划</a></li><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c="" href="https://bd.juejin.im/?utm_campaign=bd&amp;utm_source=web&amp;utm_medium=nav" target="_blank">合作伙伴</a></li></div></ul></li></div><div data-v-0c56945c="" class="nav-menu-item-group"><li data-v-0c56945c="" class="nav-menu-item"><a data-v-0c56945c=""><i data-v-0c56945c="" class="fengwei fw-logout"></i><span data-v-0c56945c="">登出</span></a></li></div></ul></li><!----><!----></ul></nav></div></header></div><main data-v-6fdc8784="" class="container main-container"><div data-v-fa2339b8="" data-v-6fdc8784="" class="view column-view"><div data-v-fa2339b8="" data-v-6fdc8784="" class="main-area article-area shadow"><article data-v-fa2339b8="" itemscope="itemscope" itemtype="http://schema.org/Article" class="article" data-v-6fdc8784=""><meta itemprop="url" content="https://juejin.im/post/5e77135e6fb9a07ca714dbc4"><meta itemprop="headline" content="调试iOS用户交互事件响应流程"><meta itemprop="keywords" content="Objective-C"><meta itemprop="datePublished" content="2020-03-22T07:28:07.315Z"><meta itemprop="image" content="https://b-gold-cdn.xitu.io/icon/icon-128.png"><div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Luminix"><meta itemprop="url" content="https://juejin.im/user/5d8c59d05188250924536c95"></div><div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="掘金"><div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://b-gold-cdn.xitu.io/icon/icon-white-180.png"><meta itemprop="width" content="180"><meta itemprop="height" content="180"></div></div><div data-v-fa2339b8="" class="author-info-block"><a data-v-fa2339b8="" href="https://juejin.im/user/5d8c59d05188250924536c95" target="_blank" rel="" class="avatar-link"><div data-v-95ddf8f6="" data-v-39db9419="" data-v-fa2339b8="" data-src="https://user-gold-cdn.xitu.io/2019/9/28/16d76b53799bd39b?imageView2/1/w/100/h/100/q/85/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2019/9/28/16d76b53799bd39b?imageView2/1/w/100/h/100/q/85/interlace/1&quot;);"></div></a><div data-v-fa2339b8="" class="author-info-box"><a data-v-263f3a32="" data-v-fa2339b8="" href="https://juejin.im/user/5d8c59d05188250924536c95" target="_blank" rel="" class="username username ellipsis">Luminix<a data-v-6d94a6ea="" data-v-263f3a32="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-6d94a6ea="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/lv-1.svg" alt="lv-1"></a></a><div data-v-fa2339b8="" class="meta-box"><time data-v-fa2339b8="" datetime="2020-03-22T07:28:07.315Z" title="Sun Mar 22 2020 15:28:07 GMT+0800 (中国标准时间)" class="time">2020年03月22日</time><span data-v-fa2339b8="" class="views-count">阅读 851</span><!----></div></div><button data-v-5789daef="" data-v-fa2339b8="" class="follow-button follow followed">已关注</button></div><!----><h1 data-v-fa2339b8="" class="article-title">调试iOS用户交互事件响应流程</h1><div data-v-fa2339b8="" data-id="5e7713876fb9a07c7f6094e4" itemprop="articleBody" class="article-content"><p>[TOC]</p>
<h1 class="heading" data-id="heading-0">调试iOS用户交互事件响应流程</h1>
<p><em>2020-03-19</em></p>
<p>通常 iOS 界面开发中处理各种用户交互事件。其中，<code>UIControlEvent</code>以注册的 Target-Action 的方式绑定到控件；<code>UIGestureRecognizer</code>通过<code>addGestureRecognizer:</code>添加到<code>UIView</code>的<code>gestureRecognizers</code>属性中；<code>UIResponder</code>提供了<code>touchesBegin/Moved/Ended/Canceled/:withEvent:</code>、<code>motionsXXX:withEvent:</code>、<code>pressXX:withEvent:</code>系列接口，将用户设备的触摸、运动、按压事件通知到<code>UIResponder</code>对象等等。以上都是常用开发者处理用户交互事件的方式，那么隐藏在这些接口之下，从驱动层封装交互事件对象到 UI 控件接收到用户事件的流程是怎样的呢？本文主要探讨的就是这个问题。</p>
<h2 class="heading" data-id="heading-1">一、响应链</h2>
<p>Apple Documentation 官方文档<a target="_blank" href="https://developer.apple.com/documentation/uikit/touches_presses_and_gestures/using_responders_and_the_responder_chain_to_handle_events?language=objc" rel="nofollow noopener noreferrer">Using Responders and the Responder Chain to Handle Events</a>介绍了利用<code>UIResponder</code>的响应链来处理用户事件。<code>UIResponder</code>实现了<code>touchesXXX</code>、<code>pressXXX</code>、<code>motionXXX</code>分别用于响应用户的触摸、按压、运动（例如<code>UIEventSubtypeMotionShake</code>）交互事件。<code>UIResponder</code>包含<code>nextResponder</code>属性。<code>UIView</code>、<code>UIWindow</code>、<code>UIController</code>、<code>UIApplication</code>都是<code>UIResponder</code>的派生类，所以都能响应以上事件。</p>
<h3 class="heading" data-id="heading-2">1.1 Next Responder</h3>
<p>响应链结构如下图所示，基本上是通过<code>UIResponder</code>的<code>nextResponder</code>成员串联而成，基本上是按照 view 的层级，<strong>从前向后</strong>由子视图向父视图传递，且另外附加其他规则。总的响应链的规则如下：</p>
<ul>
<li>View 的<code>nextResponder</code>是其父视图；</li>
<li>当 View 为 Controller 的根视图时，<code>nextResponder</code>是 Controller；</li>
<li>Controller 的<code>nextResponder</code>是 present Controller 的控制器；</li>
<li>当 Controller 为根控制器时，<code>nextResponder</code>是 Window；</li>
<li>Window 的<code>nextResponder</code>是 Application；</li>
<li>Application 的<code>nextResponder</code>是 App Delegate（仅当 App Delegate 为<code>UIResponder</code>类型）；</li>
</ul>
<p></p><figure><img alt="响应链" class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/22/1710123cf748e3ba?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="775" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/1710123cf748e3ba.png"><figcaption></figcaption></figure><p></p>
<p><code>UIResponder</code>响应<code>touchesXXX</code>、<code>pressXXX</code>、<code>motionXXX</code>事件不需要指定<code>userInteractionEnabled</code>为<code>YES</code>。但是对于<code>UIView</code>则需要指定<code>userInteractionEnabled</code>，原因是<code>UIView</code>重新实现了这些方法。响应<code>UIGesture</code>则需要指定<code>userInteractionEnabled</code>，<code>addGestureRecognizer:</code>是<code>UIView</code>类的接口。</p>
<blockquote>
<p>注意：新版本中，分离了 Window 和 View 的响应链。当 Controller 为根控制器时，<code>nextResponder</code>实际上是<code>nil</code>；Windows 的<code>nextResponder</code>是 Window Scene；Window Scene 的<code>nextResponder</code>是 Application。在后面的调试过程会有体现。</p>
</blockquote>
<h4 class="heading" data-id="heading-3">1.1.1 调试nextResponder</h4>
<p>使用一个简单的 Demo 调试<code>nextResponder</code>。界面如下图所示，包含三个 Label，从颜色可以判断其层次从后往前的顺序是：A &gt;&gt; B &gt;&gt; C。下面两个按钮另做他用，先忽略。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/22/1710123c7debf585?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/1710123c7debf585.jpg"><figcaption></figcaption></figure><p></p>
<p>运行 Demo，查看各个元素的<code>nextResponder</code>，确实如前面所述。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/22/1710123c7e0009e2?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/1710123c7e0009e2.jpg"><figcaption></figcaption></figure><p></p>
<h3 class="heading" data-id="heading-4">1.2 Target-Action和响应链</h3>
<p><code>UIControl</code>控件与关联的 target 对象通信，直接通过向 target 对象发送 action 消息。虽然 Action 消息虽然不是事件，但是 Action 消息的传递是要经过响应链的。当接收到用户交互事件的控件的 target 为<code>nil</code>时，会沿着控件的响应链向下搜索，直到找到实现该 action 方法的对象为止。UIKit 的编辑菜单就是通过这个机制实现的，UIKit 会沿着控件的响应链搜索实现了<code>cut:</code>、<code>copy:</code>、<code>paste:</code>等方法的对象。</p>
<h4 class="heading" data-id="heading-5">1.2.1 注册UIControlEvents</h4>
<p>当<code>UIControl</code>控件调用<code>addTarget:action:forControlEvents:</code>方法注册事件时，会将构建<code>UIControlTargetAction</code>对象并将其添加到<code>UIControl</code>控件的<code>(NSMutableArray*)_targetActions</code>私有成员中，<code>addTarget:action:forControlEvents:</code>方法的 Apple Documentation 注释中有声明<strong>调用该方法时<code>UIControl</code>并不会持有 target 对象</strong>，因此无需考虑循环引用的问题。UIControl Events 注册过程的简单调试过程如下：</p>
<p></p><figure><img alt="UIControl Target Action" class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/22/1710123c7ebdbe75?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/1710123c7ebdbe75.jpg"><figcaption></figcaption></figure><p></p>
<blockquote>
<p>附注：The control does not retain the object in the target parameter. It
 is your responsibility to maintain a strong reference to the target 
object while it is attached to a control.</p>
</blockquote>
<h4 class="heading" data-id="heading-6">1.2.2 调试UIControlEvents的传递</h4>
<p>前面内容提到，控件的 action 是沿着响应链传递的，那么，当两个控件在界面上存在重合的区域，那么在重合区域触发用户事件时，action 消息会在哪个控件上产生呢？在 <em>1.1.1</em> 中的两个重合的按钮就是为了验证这个问题。</p>
<p>稍微改造一下 <em>1.1.1</em> 的 Demo 程序，将 Label A、B、C 指定为自定义的继承自<code>UILabel</code>的类型<code>TestEventsLabel</code>，将两个 Button 指定为继承自<code>UIButton</code>的<code>TestEventsButton</code>类型。然后在<code>TestEventsLabel</code>、<code>TestEventsButton</code>、<code>ViewController</code>中，为<code>touchesXXX:</code>系列方法、<code>nextResponder</code>方法、<code>hitTest:withEvent:</code>方法添加打印日志的代码，以<code>TestEventsButton</code>的实现为例（当然也可以用 AOP 实现）：</p>
<pre><code class="hljs objc copyable" lang="objc"><span class="hljs-class"><span class="hljs-keyword">@implementation</span> <span class="hljs-title">TestEventsButton</span></span>

-(<span class="hljs-built_in">UIResponder</span> *)nextResponder{
    <span class="hljs-built_in">UIResponder</span>* responder = [<span class="hljs-keyword">super</span> nextResponder];
    <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"Next Responder Button %@ - return responder: %@"</span>, [<span class="hljs-keyword">self</span> titleForState:<span class="hljs-built_in">UIControlStateNormal</span>], responder);
    <span class="hljs-keyword">return</span> responder;
}

-(<span class="hljs-built_in">UIView</span> *)hitTest:(<span class="hljs-built_in">CGPoint</span>)point withEvent:(<span class="hljs-built_in">UIEvent</span> *)event{
    <span class="hljs-built_in">UIView</span>* view = [<span class="hljs-keyword">super</span> hitTest:point withEvent:event];
    <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"Hit Test Button %@ - return view: %@"</span>, [<span class="hljs-keyword">self</span> titleForState:<span class="hljs-built_in">UIControlStateNormal</span>], view);
    <span class="hljs-keyword">return</span> view;
}

-(<span class="hljs-keyword">void</span>)touchesBegan:(<span class="hljs-built_in">NSSet</span>&lt;<span class="hljs-built_in">UITouch</span> *&gt; *)touches withEvent:(<span class="hljs-built_in">UIEvent</span> *)event{
    [<span class="hljs-keyword">super</span> touchesBegan:touches withEvent:event];
    <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"Button %@ - %s"</span>, [<span class="hljs-keyword">self</span> titleForState:<span class="hljs-built_in">UIControlStateNormal</span>], __func__);
}
- (<span class="hljs-keyword">void</span>)touchesEnded:(<span class="hljs-built_in">NSSet</span>&lt;<span class="hljs-built_in">UITouch</span> *&gt; *)touches withEvent:(<span class="hljs-built_in">UIEvent</span> *)event{
    [<span class="hljs-keyword">super</span> touchesEnded:touches withEvent:event];
    <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"Button %@ - %s"</span>, [<span class="hljs-keyword">self</span> titleForState:<span class="hljs-built_in">UIControlStateNormal</span>], __func__);
}
-(<span class="hljs-keyword">void</span>)touchesMoved:(<span class="hljs-built_in">NSSet</span>&lt;<span class="hljs-built_in">UITouch</span> *&gt; *)touches withEvent:(<span class="hljs-built_in">UIEvent</span> *)event{
    [<span class="hljs-keyword">super</span> touchesMoved:touches withEvent:event];
    <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"Button %@ - %s"</span>, [<span class="hljs-keyword">self</span> titleForState:<span class="hljs-built_in">UIControlStateNormal</span>], __func__);
}
-(<span class="hljs-keyword">void</span>)touchesCancelled:(<span class="hljs-built_in">NSSet</span>&lt;<span class="hljs-built_in">UITouch</span> *&gt; *)touches withEvent:(<span class="hljs-built_in">UIEvent</span> *)event{
    [<span class="hljs-keyword">super</span> touchesCancelled:touches withEvent:event];
    <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"Button %@ - %s"</span>, [<span class="hljs-keyword">self</span> titleForState:<span class="hljs-built_in">UIControlStateNormal</span>], __func__);
}

<span class="hljs-keyword">@end</span>
<span class="copy-code-btn">复制代码</span></code></pre><h5 class="heading" data-id="heading-7">结论一：Action不会在同级视图层级中传递</h5>
<p>一切准备就绪，运行 Demo，点击“点我前Button”，抓取到了如下日志。注意框①中指定的 target 是<code>self</code>，也就是 Controller。可以发现点击事件产生，调用了若干次碰撞检测（框②），若干次<code>nextResponder</code>（框③），最终只调用了 Controller 中“点我前Button”的 action 方法。这是因为：</p>
<ul>
<li>Target-Action 消息在传递时，永远<strong>不会在同级视图层级中传递</strong>；</li>
<li>Target 非空，则 UIKit 在确认控件响应某个事件后，会<strong>直接给控件的 target 对象发送 action 消息</strong>，这个过程不存在任何视图层级传递 或 响应链传递的过程；</li>
</ul>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/22/1710123c820477c1?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/1710123c820477c1.jpg"><figcaption></figcaption></figure><p></p>
<h5 class="heading" data-id="heading-8">结论二：Target为空时Action仍可以被响应</h5>
<p>接下来将<code>addTarget:action:</code>中指定的 target 设为<code>nil</code>。然后在<code>TestEventsButton</code>中也添加 action 的响应代码，如下所示。</p>
<pre><code class="hljs objc copyable" lang="objc">-(<span class="hljs-keyword">void</span>)didClickBtnFront:(<span class="hljs-keyword">id</span>)sender{
    <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"In Button 点我前Button Did Click Action %s"</span>, __func__);
}

-(<span class="hljs-keyword">void</span>)didClickBtnBack:(<span class="hljs-keyword">id</span>)sender{
    <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"In Button 点我后Button Did Click Action %s"</span>, __func__);
}
<span class="copy-code-btn">复制代码</span></code></pre><p>点击“点我前Button”，抓取到了如下日志。这次，由<code>TestEventsButton</code>处理了 action 消息。说明当控件注册 action 时指定的 <strong>target 为<code>nil</code>时，action 消息仍然可以被响应，且 action 只响应一次</strong>。请记住，此时<code>nextResponder</code>被调用了 5 次。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/22/1710123c8320bb07?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/1710123c8320bb07.jpg"><figcaption></figcaption></figure><p></p>
<h5 class="heading" data-id="heading-9">结论三：Target为空时Action沿响应链传递</h5>
<p>再进一步修改代码，将结论二中<code>TestEventsButton</code>的新增代码删除，仍然将<code>addTarget:action:</code>中指定的 target 设为<code>nil</code>。点击“点我前Button”，抓取到了如下日志。这次，处理 action 消息的是 Controller。而且从日志中我们发现，这次<code>nextResponder</code>调用了 6 次，确切地说，是在 Button <code>touchBegin</code>之后，Controller 处理 action 消息之前（如图中红框所示）。这是因为，<strong>target 为<code>nil</code>时，action 消息会沿着响应链传递，直到找到可以响应 action 的对象为止</strong>。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/22/1710123cbd4ab2eb?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/1710123cbd4ab2eb.jpg"><figcaption></figcaption></figure><p></p>
<p>可以继续尝试给“点我后Button”，直接将<code>self.btnFront</code>的注册 Target-Action 的代码删掉。运行 Demo，再次点击“点我前Button”，此时<code>didClickBtnBack</code>仍然不触发。这其实只是进一步印证了“结论一”的结论，这里不再演示。</p>
<blockquote>
<p>整个调试过程下来，可以发现，被 ButtonA 覆盖的 ButtonB，所有 action 都会被 ButtonA 拦截，被覆盖的 ButtonB 不会获得任何触发 action 的机会。</p>
</blockquote>
<h3 class="heading" data-id="heading-10">1.3 手势识别和响应链</h3>
<p>Gesture Recognizer 会在 View 之前接收 Touch 和 Press 事件，当 Gesture Recognizer
 对一连串的 Touch 事件手势识别失败时，UIKit 才将这些 Touch 事件发送给 View。若 View 不处理这些 Touch 
事件，UIKit 将其递交到响应链。</p>
<h3 class="heading" data-id="heading-11">1.4 修改响应链</h3>
<p>响应链主要通过<code>nextResponder</code>方法串联，因此重新实现<code>UIResponder</code>派生类的<code>nextResponder</code>方法可以实现响应链修改的效果。</p>
<h2 class="heading" data-id="heading-12">二、Touch事件传递</h2>
<p>当 touch 事件发生时，UIKit 会构建一个与 view 关联的<code>UITouch</code>实例，当 touch 位置变化时，仅改变 touch 的属性值，但不包括其<code>view</code>属性。即使 touch 移出了 view 的范围，<code>view</code>属性仍然是不变的。<code>UITouch</code>的<code>gestureRecognizers</code>属性表示正在处理该 touch 事件的所有 gesture recognizer。<code>UITouch</code>的<code>timestamp</code>属性表示 touch 事件的发生时间或者上一次修改的时间。<code>UITouch</code>的<code>phase</code>属性，表示 touch 事件当前所在的生命周期阶段，包括<code>UITouchPhaseMoved</code>、<code>UITouchPhaseBegan</code>、<code>UITouchPhaseStationary</code>、<code>UITouchPhaseEnded</code>、<code>UITouchPhaseCanceled</code>。</p>
<h3 class="heading" data-id="heading-13">2.1 碰撞检测</h3>
<p>UIKit 通过 hit-test 碰撞检测确定哪些 View 需要响应 touch 事件，hit-test 通过比较 touch 的位置与 View 的 bounds 判断 touch 是否与 View 相交。Hit-test 是<strong>在 View 的视图层级中，取层级最深的子视图</strong>，作为 touch 事件的 first responder，然后<strong>从前向后</strong>递归地对每个子视图进行 Hit-test，直到子视图命中，<strong>直接返回命中的子视图</strong>。</p>
<p>Hit-test 通过<code>UIView</code>的<code>hitTest:withEvent:</code>方法实现，若 touch 的位置超出了 view 的 bounds 范围，则<code>hitTest:withEvent:</code>会忽略该 view 及其所有子视图。所以，当 view 的<code>maskToBounds</code>为<code>NO</code>时，即使 touch 看起来落在了某个视图上，但只要 touch 位置超出了 view 或者其 super view 的 bounds 范围，则该 view 仍然会接收不到 touch 事件。</p>
<p>碰撞检测方法<code>- (UIView *)hitTest:(CGPoint)point withEvent:(UIEvent *)event;</code>中，<code>point</code>参数是碰撞检测点在事件发生的 view 的坐标系中的坐标；<code>event</code>参数是使用本次碰撞检测的<code>UIEvent</code>事件。当目标检测点不在当前 view 的范围内时，该方法返回<code>nil</code>，反之则返回 view 本身。<code>hitTest:withEvent:</code>方法是通过调用<code>UIView</code>的<code>- (BOOL)pointInside:(CGPoint)point withEvent:(UIEvent *)event;</code>方法实现的，该方法忽略<code>userInteractionEnabled</code>为<code>NO</code>或者 alpha 值小于 0.01 的视图。</p>
<h3 class="heading" data-id="heading-14">2.2 调试Touch事件传递</h3>
<p>Touch 事件传递过程主要调用了<code>hitTest:withEvent:</code>方法，Touch 事件若未被 gesture recognizer 捕捉则最终会去到<code>touchesXXX:</code>系列方法。在响应链的调试时，已经见到不少<code>hitTest:withEvent:</code>调用的痕迹。</p>
<p>在第一章“结论一”的运行日志中，发现点击“点我前Button”时，也对 Label A、B、C 做了碰撞检测，且并没有对“点我后Button”做碰撞检测。注意到 Label 和 Button 都是<code>self.view</code>的子视图，且 Label A、B、C 在“点我前Button”之前，“点我后Button”之后。前面提到过：<strong>Hit-test 是在 View 的视图层级中，取层级最深的子视图，作为 touch 事件的 first responder，然后从前向后递归地对每个子视图进行 Hit-test</strong>。因此，<code>self.view</code>调用 Hit-Test 时，首先找到的是 Label C。然后，从前向后递归调用<code>hitTest:withEvent:</code>，因此才会有<code>C &gt;&gt; B &gt;&gt; A &gt;&gt; 点我前Button</code>的顺序。为什么到“点我后Button”没有递归到呢？这是因为<code>self.view</code>的<code>hitTest:withEvent:</code>在迭代到“点我前Button”时命中了目标，因此直接返回“点我前Button”。而更后面的“点我前Button”就直接被跳过了。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/22/1710123cbebdd6ea?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/1710123cbebdd6ea.jpg"><figcaption></figcaption></figure><p></p>
<p>为验证上面的推测。继续在 Demo 中引入继承自<code>UIView</code>的<code>TestEventsView</code>类型，套路和前面的 Button、Label 一致，就是为了打印关键日志。然后将 Controller 的根视图，也就是<code>self.view</code>的类型设置为<code>TestEventsView</code>。然后再在 Controller 的<code>viewDidLoad</code>中增加打印 Button 信息的代码以作对照。</p>
<p>准备就绪，运行 Demo，点击“点我前Button”，得到以下日志，干扰信息变多了，遮挡掉其中一部分。关注到红色框中的内容，发现<code>self.view</code>的<code>hitTest:forEvent:</code>返回的正是“点我前Button”，而且“点我前Button”的<code>hitTest:forEvent:</code>返回了自身。与前面的推测完全符合。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/22/1710123cc0e17bb1?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/1710123cc0e17bb1.jpg"><figcaption></figcaption></figure><p></p>
<h4 class="heading" data-id="heading-15">步骤零：准备工作</h4>
<p>前一小节的调试过程其实已经可以证明改结论，但是由于只是通过对有限的相关共有方法，譬如<code>hitTest:forEvent:</code>、<code>nextResponder</code>的调用次序的打印似乎还不够深入。接下来用 lldb 下断点的方式，进行调试。</p>
<p>在这之前需要做一些准备工作，这次是使用 lldb 调试主要通过查看函数调用栈、寄存器数据、内存数据等方式分析，因此不需要打印日志的操作，况且新增的<code>hitTest:withEvent</code>、<code>nextResponder</code>、<code>touchesXXX</code>方法会徒增调用栈的层数，因此将<code>TestEventsLabel</code>、<code>TestEventsButton</code>、<code>TestEventsView</code>、<code>ViewController</code>的这些方法悉数屏蔽。去掉一切不必要的日志打印逻辑。</p>
<p>准备就绪，运行 Demo，先不急着开始，首先查看 Demo 的视图层级，先记住这个<code>UIWindow</code>实例，它是应用的主窗口，它的内存地址是<code>0x7fa8f10036b0</code>，后面会用到。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/22/1710123cc6fd7101?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/1710123cc6fd7101.jpg"><figcaption></figcaption></figure><p></p>
<blockquote>
<p>注意：从 iOS 13 开始，引入了<code>UIWindowScene</code>统一管理应用的窗口和屏幕，<code>UIWindowScene</code>包含<code>windows</code>和<code>screen</code>属性。上图所展示<code>UIWindowScene</code>只包含了一个子 Window，实际真的如此吗？</p>
</blockquote>
<h4 class="heading" data-id="heading-16">步骤一：下断点</h4>
<p>首先使用<code>break point -n</code>命令在四个关键方法处下断点：</p>
<ul>
<li><code>hitTest:withEvent:</code></li>
<li><code>nextResponder</code></li>
<li><code>touchesBegan:withEvent:</code></li>
<li><code>touchesEnded:withEvent:</code></li>
</ul>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/22/1710123cfbfda4ac?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/1710123cfbfda4ac.jpg"><figcaption></figcaption></figure><p></p>
<blockquote>
<p>注意：汇编代码中的函数通常以<code>pushq %rbp</code>、<code>movq %rsp, %rbp</code>开头，其中<code>bp</code>是基地址寄存器（base pointer），<code>sp</code>是堆栈寄存器（stack pointer），<code>bp</code>保存当前函数栈帧的基地址（栈底），<code>sp</code>保存当前函数栈帧的下一个可分配地址（栈顶），函数每分配一个单元的栈空间，<code>sp</code>自动递增，而<code>bp</code>保持不变。相应地，函数返回前都会有<code>popq %rbp</code>操作。</p>
</blockquote>
<h4 class="heading" data-id="heading-17">步骤二：简单分析 touch 事件在 Window 层的分发</h4>
<p>点击“点我前Button”，很快触发了第一个<code>hitTest:withEvent:</code>的断点。先用<code>bt</code>命令查看当前调用栈，发现第 0 帧调用了<code>UIAutoRotatingWindow</code>的<code>hitTest:withEvent:</code>，打印寄存器数据获取到<code>r14</code>、<code>r15</code>都传递了<code>UIWindow</code>参数，但实际上调用该方法的是一个<code>UITextEffectsWindow</code>实例，<code>UITextEffectsWindow</code>是<code>UIAutoRotatingWindow</code>。它的内存地址是<code>0x00007fa8ebe05050</code>，<strong>显然不是 main window</strong>。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/22/1710123cc9debc8e?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/1710123cc9debc8e.jpg"><figcaption></figcaption></figure><p></p>
<p>而<code>r14</code>传递的地址是<code>0x00007fa8f10036b0</code>，正是 main window。之所以是<code>UITextEffectsWindow</code>接收到<code>hitTest:withEvent:</code>是因为Window 层中的碰撞检测是使用上图中红色框中的私有方法进行处理。接下来一步步弄清红框中的碰撞检测处理的 touch 事件的传递具体经由哪些 Window 实例。<code>frame select 8</code>跳到第 8 帧，跟踪到了一个<code>UIWindow</code>对象<code>0x7fa8f10036b0</code>。因此，<strong>Window 层级中最先接收到 touch 事件的确实是 main window</strong>。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/22/1710123cfe32f286?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/1710123cfe32f286.jpg"><figcaption></figcaption></figure><p></p>
<p>依次类推打印出所有栈帧的当前对象如下（有些层级到断点行时寄存器已经被修改，会找不到目标类型的实例，此时可以回到上一层打印需要传入下一层的所有寄存器的值即可）：</p>
<blockquote>
<p>frame 0: UITextEffectsWindow 	0x00007fa8ebe05050
frame 1: UITextEffectsWindow	0x00007fa8ebe05050
frame 2: UITextEffectsWindow	0x00007fa8ebe05050
frame 3: UIWindow		+(类方法)
frame 4: UIWindowScene		-(nil不需要使用self)
frame 5: UIWindowScene		0x00007fa8ebd06c50
frame 6: UIWindowScene		0x00007fa8ebd06c50
frame 7: UIWindow		+(类方法)
frame 8: UIWindow		0x00007fa8f10036b0</p>
</blockquote>
<p>可以进一步使用 lldb 调试命令理清上面几个对象之间的关系。首先是图一中 window scene 与 window 之间的关系。图二则打印出了<code>UITextEffectsWindow</code>的视图层级。图三是 main window 的视图层级，注意到红框中的对象，是否似曾相识？没错，到这里追踪到 Controller 的<code>TestEventsView</code>类型的根 view。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/22/1710123cfe825f86?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/1710123cfe825f86.jpg"><figcaption></figcaption></figure>
图一：WindowScene与Window之间的关系<p></p>
<p></p><figure><img alt="UITextEffectsWindow视图层级" class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/22/1710123d0722aec3?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/1710123d0722aec3.jpg"><figcaption></figcaption></figure>
图二：UITextEffectsWindow的视图层级<p></p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/22/1710123d0de03ed7?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/1710123d0de03ed7.jpg"><figcaption></figcaption></figure>
图三：Main Window的视图层级<p></p>
<p>为什么新版本 iOS 的 touch 事件传递过程，需要分离出 Window 层和 View 层阶段？是因为自 iOS 13 起引入<code>UIWindowScene</code>后，<code>UITextEffectsWindow</code>和 main window 有各自的视图层级，且两者都没有<code>superview</code>，因此必须修改 touch 的传递策略，让事件都能分发到两个 window 中。</p>
<blockquote>
<p>注意：原本猜想，C 
语言转化为汇编语言时，遵循声明一个局部变量就要分配一个栈空间的，调用函数时需要将形参和返回值地址推入堆栈，然而从调试过程中查看 
Objective-C 的汇编代码，其实现并不是如此。由于现代处理器包含了大量的高效率存储器，因此 clang 
编译时会最大限量地合理利用起这些寄存器（通常是通用寄存器）以提高程序执行效率。通常传递参数用到最多的是<code>r12</code>、<code>r13</code>、<code>r14</code>、<code>r15</code>寄存器，但绝不仅限于以上列举的几个。这给源代码调试增加了很大的难度。</p>
</blockquote>
<h4 class="heading" data-id="heading-18">步骤三：分析 Touch 事件的产生</h4>
<p>注意这里的 touch 事件并不是指 UIKit 的 touch event，UIKit 的 touch event 在 UIKit 接收到来自驱动层的点击事件信号后就构建了 touch 事件的<code>UIEvent</code>对象。这里的 touch 事件是指经过碰撞检测确定了 touch event 的响应者从<code>touchesBegan:withEvent:</code>开始传递之前产生的<code>UITouch</code>对象。</p>
<p>1、现在正式开始追踪 touch 事件。已知，步骤二中打断的第一次<code>hitTest:withEvent:</code>命中，其调用对象是<code>UITextEffectsWindow</code>实例。此时点击调试工具栏中的“continue”按钮，继续执行。</p>
<blockquote>
<p>注意：由于调试过程比较长，导致继续运行时 lldb 被打断需要重新运行。不过问题不大，因为前面的工作已经确定了需要追踪的关键对象。因此重新运行后，重新下断点，再记录一次关键对象的地址即可。</p>
</blockquote>
<p>开始收集断点命中（包括第一次命中）：</p>
<ul>
<li><code>UITextEffectsWindow</code>：（Hit-Test）</li>
<li><code>UITextEffectsWindow</code>：（Hit-Test）（调用 UIView 的实现）</li>
<li><code>UIInputSetContainerView</code>：（Hit-Test）</li>
<li><code>UIInputSetContainerView</code>：（Hit-Test）（调用 UIView 的实现）</li>
<li><code>UIEditingOverlayGestureView</code>：（Hit-Test）</li>
<li><code>UIEditingOverlayGestureView</code>：（Hit-Test）（调用 UIView 的实现）</li>
<li><code>UIInputSetHostView</code>：（Hit-Test）</li>
<li><code>UIInputSetHostView</code>：（Hit-Test）（调用 UIView 的实现）</li>
<li><code>UIWindow</code>：（Hit-Test）（调用 UIView 的实现）</li>
<li><code>UITransitionView</code>：（Hit-Test）</li>
<li><code>UITransitionView</code>：（Hit-Test）（调用 UIView 的实现）</li>
<li><code>UIDropShadowView</code>：（Hit-Test）</li>
<li><code>UIDropShadowView</code>：（Hit-Test）（调用 UIView 的实现）</li>
<li><code>TestEventsView</code>：（Hit-Test）（调用 UIView 的实现）</li>
</ul>
<p>至此 Hit-Test 断点命中了之前自定义的 Controller 的<code>TestEventsView</code>类型的根类，在这里打印一下调用栈。调用栈增加至 38 层如下图。而且上面的层次都是在调用<code>hitTest:withEvents</code>方法，这是个明显的递归调用的表现。而且<strong>到此为止，Hit-Test 仍然没有命中任何视图</strong>。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/22/1710123d394f55bc?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/1710123d394f55bc.jpg"><figcaption></figcaption></figure><p></p>
<p>2、继续运行收集断点信息：</p>
<ul>
<li>{TestEventsLabel: 0x7fd8d48071a0; baseClass = UILabel; frame = (121 162; 250 166); <strong>text = 'C'</strong>; opaque = NO; autoresize = RM+BM; layer = &lt;_UILabelLayer: 0x600003399040&gt;}：(Hit-Test）（调用超类的实现）</li>
<li>{TestEventsLabel: 0x7fd8d4806df0; baseClass = UILabel; frame = (82 116; 250 166); <strong>text = 'B'</strong>; opaque = NO; autoresize = RM+BM; layer = &lt;_UILabelLayer: 0x600003398f50&gt;}：(Hit-Test）（调用超类的实现）</li>
<li>{TestEventsLabel: 0x7fd8d4805aa0; baseClass = UILabel; frame = (44 75; 250 166); <strong>text = 'A'</strong>; opaque = NO; autoresize = RM+BM; layer = &lt;_UILabelLayer: 0x600003398870&gt;}：(Hit-Test）（调用超类的实现）</li>
<li>{TestEventsButton: 0x7fd8d48056c0; baseClass = UIButton; frame = 
(121 478; 173 79); opaque = NO; autoresize = RM+BM; layer = &lt;CALayer:
 0x6000010813e0&gt;}：(Hit-Test）（调用 UIControl 的实现）</li>
</ul>
<p>Hit-Test 断点终于命中了 Demo 的自定义 Label 和 Button 控件。根据收集的信息，命中顺序是 LabelC -&gt; LabelB -&gt; LabelA -&gt; 点我前Button。此时，不急着继续，在调试窗口中使用<code>bt</code>指令，观察到调用栈深度已经来到了 43 层之多，如下图所示。但是注意到一点，以上每次断点命中，其调用栈深度都是 43 层，也就是说上面几个<strong>同层视图的碰撞检测过程是循环迭代</strong>，而不是递归，三个<code>TestEventsLabel</code>调用<code>hitTest:withEvent:</code>都可以直接返回<code>nil</code>不需要递归。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/22/1710123d3af38097?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/1710123d3af38097.jpg"><figcaption></figcaption></figure><p></p>
<p>3、继续运行收集断点信息：</p>
<ul>
<li><code>TestEventsButton</code>：（Hit-Test）（调用 UIView 的实现）</li>
<li><code>UIButtonLabel</code>：（Hit-Test）（调用超类的实现）</li>
</ul>
<p>调用栈到达了第一个高峰 49 层，如下图一所示。此时若点击继续，会发现调用栈回落到 13 层，如下图二所示。说明 Hit-Test 断点在命中<code>UIButtonLabel</code>后，本次 Hit-Test 递归就返回了。至于具体返回什么对象，实际上在 <em>1.2.2</em> 的调试日志中已经打印出来了，正是“点我前Button”。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/22/1710123d41ef1a3b?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/1710123d41ef1a3b.jpg"><figcaption></figcaption></figure>
图一：Hit-Test调用栈到达顶峰<p></p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/22/1710123d54fe5b5a?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/1710123d54fe5b5a.jpg"><figcaption></figcaption></figure>
图二：Hit-Test调用栈回落<p></p>
<p>4、继续运行，Demo 会进入第二次 Hit-Test 递归，之所以一次点击事件引发了两轮递归，是因为 touch 事件在开始和结束时，各进行了一轮碰撞检测。继续收集断点信息：</p>
<ul>
<li><code>UIWindow</code>：（Hit-Test）（调用 UIView 的实现）</li>
<li><code>UITransitionView</code>：（Hit-Test）</li>
<li><code>UITransitionView</code>：（Hit-Test）（调用 UIView 的实现）</li>
<li><code>UIDropShadowView</code>：（Hit-Test）</li>
<li><code>UIDropShadowView</code>：（Hit-Test）（调用 UIView 的实现）</li>
<li><code>TestEventsView</code>：（Hit-Test）（调用 UIView 的实现）</li>
<li><code>TestEventsLabel</code>：（Hit-Test）（调用 UIView 的实现）</li>
<li><code>TestEventsLabel</code>：（Hit-Test）（调用 UIView 的实现）</li>
<li><code>TestEventsLabel</code>：（Hit-Test）（调用 UIView 的实现）</li>
<li><code>TestEventsButton</code>：（Hit-Test）（调用 UIControl 的实现）</li>
<li><code>TestEventsButton</code>：（Hit-Test）（调用 UIView 的实现）</li>
<li><code>UIButtonLabel</code>：（Hit-Test）（调用 UIView 的实现）</li>
</ul>
<p>调用栈再次到达了高峰 41 层如下图所示。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/22/1710123d571502ed?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/1710123d571502ed.jpg"><figcaption></figcaption></figure><p></p>
<p>此时先不急着继续。因为以上是 Hit-Test 在本次调试中的最后一次断点命中，点击继续 Hit-Test 递归必然返回“点我前Button”，表示碰撞检测命中了该按钮控件。第二轮 Hit-Test 的调用栈明显浅许多，不难发现其原因是该轮碰撞检测没有经过<code>UITextEffectsWindow</code>而直接从<code>UIWindow</code>开始（个中原因不太确定）。</p>
<p>总结 Hit-Test 的处理过程的要点是：</p>
<ul>
<li><strong>优先检测自己是否命中，不命中则直接忽略所有 subviews</strong>；</li>
<li>若自己命中，则对所有子视图<strong>按同层级视图顺序从前向后</strong>的顺序依次进行碰撞检测，因此碰撞检测也是 superview 到 subview 的<strong>按视图层级从后向前递归</strong>的过程；</li>
<li><strong>若所有子视图均未命中，自己的碰撞检测才返回 nil</strong>。</li>
</ul>
<p>文字表述似乎有点不太直观，还是用咱们程序员的语言吧，伪代码如下：</p>
<pre><code class="hljs objc copyable" lang="objc">- (<span class="hljs-built_in">UIView</span> * _Nullable)hitTest:(<span class="hljs-built_in">CGPoint</span>)point withEvent:(<span class="hljs-built_in">UIEvent</span> *)event{
    <span class="hljs-comment">// 1. 优先检测自己，不命中则立刻排除</span>
    <span class="hljs-built_in">BOOL</span> isHit = [<span class="hljs-keyword">self</span> pointInside:point withEvent:event];
    <span class="hljs-keyword">if</span>(!isHit){
        <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>;
    }

    <span class="hljs-comment">// 2. 从前向后循环迭代所有子视图</span>
    <span class="hljs-keyword">for</span>(<span class="hljs-built_in">UIView</span>* subviews <span class="hljs-keyword">in</span> subviews){
        <span class="hljs-comment">// 跨视图层级从 superview 向 subview 递归</span>
        <span class="hljs-built_in">UIView</span>* hitView = [subviews hitTest:point withEvent:event];
        <span class="hljs-keyword">if</span>(hitView)
            <span class="hljs-keyword">return</span> hitView;
    }
    
    <span class="hljs-comment">// 3. 所有子视图未命中返回nil</span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>;
}
<span class="copy-code-btn">复制代码</span></code></pre><h4 class="heading" data-id="heading-19">步骤四：分析 touch 事件开始后的传递</h4>
<h5 class="heading" data-id="heading-20">情况一：点击 Button 控件时</h5>
<p>步骤三执行完成，UIKit 产生了<code>UITouch</code>事件并开始传递该事件。紧接在之前的基础上继续调试。再点击 continue，收集断点信息：</p>
<ul>
<li><code>_UISystemGestureGateGestureRecognizer</code>：（Touches-Began）</li>
<li><code>_UISystemGestureGateGestureRecognizer</code>：（Touches-Began）</li>
<li><code>TestEventsButton</code>：（Touches-Began）（调用 <strong>UIControl</strong> 的实现）</li>
</ul>
<p>此时 Button 尝试触发 touchesBegan，开始<code>UITouch</code>事件传递。调用栈如下，是由 UIWindow 发送过来的 touch 事件。注意上面<code>TestEventsButton</code>调用的是<strong>UIControl 的实现</strong>，记住这个“猫腻”，后面的部分会再次提到。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/22/1710123d74878a01?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/1710123d74878a01.jpg"><figcaption></figcaption></figure><p></p>
<ul>
<li><code>TestEventsButton</code>：（Next-Responder）（调用 UIView 的实现）</li>
</ul>
<p>终于命中了 Next-Responder 断点，从上下两个调用栈可以发现，<code>nextResponder</code>是在<code>touchBegan</code>方法内调用的。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/22/1710123d7636a0f7?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/1710123d7636a0f7.jpg"><figcaption></figcaption></figure><p></p>
<p>再点击 continue，继续运行收集断点信息：</p>
<ul>
<li><code>TestEventsView</code>：（Next-Responder）（调用 UIView 的实现）</li>
</ul>
<p><code>nextResponder</code>是在<code>touchBegan</code>方法内调用的，且增加了调用栈深度，说明<code>nextResponder</code>也触发了递归的过程。但是递归的不是<code>nextResponder</code>而是<code>UIResponder</code>里面的一个私有方法<code>_controlTouchBegan:withEvent:</code>。该方法似乎只简单遍历了一轮响应链，其他的什么都没做。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/22/1710123d8427a59b?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/1710123d8427a59b.jpg"><figcaption></figcaption></figure><p></p>
<p>再点击 continue，继续运行收集断点信息：</p>
<ul>
<li><code>UIViewController</code>：（Next-Responder）（调用 UIViewController 的实现）</li>
<li><code>UIDropShadowView</code>：（Next-Responder）（调用 UIView 的实现）</li>
<li><code>UITransitionView</code>：（Next-Responder）（调用 UIView 的实现）</li>
<li><code>UIWindow</code>：（Next-Responder）</li>
<li><code>UIWindowScene</code>：（Next-Responder）（调用 UIScene 的实现）</li>
<li><code>UIApplication</code>：（Next-Responder）</li>
<li><code>AppDelegate</code>：（Next-Responder）（调用 UIResponder 的实现）</li>
</ul>
<p>在<code>AppDelegate</code>层，调用栈达到顶峰，如下图所示。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/22/1710123d94828ecc?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/1710123d94828ecc.jpg"><figcaption></figcaption></figure><p></p>
<p>在调试过程中，发现响应链上除了第一响应者“点我前Button”外的所有对象都没有调用<code>touchesBegan:withEvent:</code>响应该 touch 事件。那么这就是对 touch 事件该有的处理么？其实不然，由于调试时点击的是 Button 控件，因此<strong>上述是对<code>UIControl</code>控件作为第一响应者的情况的，通过定制<code>UIControl</code>类<code>touchesBegan:withEvent:</code>方法实现的，特殊处理</strong>。上面提到的私有方法<code>_controlTouchBegan:withEvent:</code>就是为了告诉后面响应链后面的响应者<strong>这个 touch 事件已经被前面的 UIControl 处理了，请您不要处理该事件</strong>。</p>
<p>那么<code>UIResponder</code>原始的响应流程是怎样的呢？继续调试情况二。</p>
<h5 class="heading" data-id="heading-21">情况二：点击 Label 视图</h5>
<p>流程渐渐明朗的情况下，可以先<code>breakpoint disable</code>终止上面的断点，然后<code>breakpoint delete XXX</code>删除掉<code>hitTest:withEvent:</code>断点，以减少打断次数。解屏蔽掉之前屏蔽的打印日志的代码，因为当断点命中 Demo 中的自定义类时，可以直接断定<code>nextResponder</code>的触发类。</p>
<p>点击界面中的 Label C。开始收集信息（省略自定义日志打印方法只保留原始方法）：</p>
<ul>
<li><code>_UISystemGestureGateGestureRecognizer</code>：（Touches-Began）</li>
<li><code>_UISystemGestureGateGestureRecognizer</code>：（Touches-Began）</li>
<li><code>TestEventsLabel</code>：（<strong>Touches-Began</strong>）（调用 <strong>UIResponder</strong> 的实现）</li>
<li><code>TestEventsLabel</code>：（Next-Responder）（调用 UIView 的实现）</li>
<li><code>TestEventsView</code>：（<strong>Touch-Began</strong>）（调用 <strong>UIResponder</strong> 的实现）</li>
<li><code>TestEventsView</code>：（Next-Responder）（调用 UIView 的实现）</li>
<li><code>UIViewController</code>：（<strong>Touch-Began</strong>）（调用 <strong>UIResponder</strong> 的实现）</li>
<li><code>UIViewController</code>：（Next-Responder）（调用 UIViewController 的实现）</li>
<li><code>UIDropShadowView</code>：（<strong>Touch-Began</strong>）（调用 <strong>UIResponder</strong> 的实现）</li>
<li><code>UIDropShadowView</code>：（Next-Responder）（调用 UIView 的实现）</li>
<li><code>UITransitionView</code>：（<strong>Touch-Began</strong>）（调用 <strong>UIResponder</strong> 的实现）</li>
<li><code>UITransitionView</code>：（Next-Responder）（调用 UIView 的实现）</li>
<li><code>UIWindow</code>：（<strong>Touch-Began</strong>）（调用 <strong>UIResponder</strong> 的实现）</li>
<li><code>UIWindow</code>：（Next-Responder）</li>
<li><code>UIWindowScene</code>：（<strong>Touch-Began</strong>）（调用 <strong>UIResponder</strong> 的实现）</li>
<li><code>UIWindowScene</code>：（Next-Responder）（调用 UIScene 的实现）</li>
<li><code>UIApplication</code>：（<strong>Touch-Began</strong>）（调用 <strong>UIResponder</strong> 的实现）</li>
<li><code>UIApplication</code>：（Next-Responder）</li>
<li><code>AppDelegate</code>：（<strong>Touch-Began</strong>）（调用 <strong>UIResponder</strong> 的实现）</li>
<li><code>AppDelegate</code>：（Next-Responder）（调用 UIResponder 的实现）</li>
</ul>
<p>至此先看一下调用栈，显然<code>touchesBegan:withEvent:</code>也是递归的过程：</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/22/1710123d96ccb414?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/1710123d96ccb414.jpg"><figcaption></figcaption></figure><p></p>
<p>总结上面收集的信息，<code>UIResponder</code>作为第一响应者和<code>UIControl</code>作为第一响应者的区别已经相当明显了。<strong>当<code>UIResponder</code>作为第一响应者时，是沿着响应链传递，经过的每个对象都会触发<code>touchesBegan:withEvents:</code>方法</strong>。</p>
<h4 class="heading" data-id="heading-22">步骤五：分析 touch 事件结束后的传递</h4>
<p>Touch 事件事件结束会触发第一响应者的<code>touchesEnded:withEvent:</code>方法，具体传递过程和步骤四中一致。同样要区分<code>UIControl</code>和<code>UIResponder</code>的处理。</p>
<p>最后，无论是<code>UIControl</code>还是<code>UIResponder</code>，在完成所有<code>touchesEnded:withEvent:</code>处理后，都要额外再从第一响应者开始遍历一次响应链。从调用栈可以看到是为了传递<code>UIResponder</code>的<code>_completeForwardingTouches:phase:event</code>消息。具体原因不太清楚。</p>
<p></p><figure><img class="lazyload inited loaded" data-src="https://user-gold-cdn.xitu.io/2020/3/22/1710123db161b0f2?imageView2/0/w/1280/h/960/ignore-error/1" data-width="1280" data-height="800" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/1710123db161b0f2.jpg"><figcaption></figcaption></figure><p></p>
<h2 class="heading" data-id="heading-23">三、RunLoop与事件（TODO）</h2>
<p>行文至此，文章篇幅已经有点长，因此在下一篇文章中在调试这部分内容。</p>
<h2 class="heading" data-id="heading-24">四、总结</h2>
<ul>
<li>无论是使用<code>UIControl</code>的 Target-Action 方式还是<code>UIResponder</code>的<code>touchesXXX</code>方式处理用户事件，都涉及到 Hit-Test 和 响应链的内容；</li>
<li><code>UIControl</code>使用 Target-Action 注册用户事件，当后面的控件被前面的控件覆盖时，若用户事件（<code>UIEvent</code>）被前面的控件拦截（无论前面的控件有没有注册 Target-Action），则后面的控件永远得不到处理事件的机会，即使前面的控件未注册 Target-Action；</li>
<li><code>UIControl</code>使用 Target-Action 注册用户事件，指定 Target 为空时，Action 
消息会沿着响应链传递，直到找到能响应 Action 的 Responder 为止，Action 一旦被其中一个 Responder 
响应，响应链后面的对象就不再处理该 Action 消息；</li>
<li>响应链是以 View 为起始，向 superview 延伸的一个反向树型结构，通过<code>UIResponder</code>的<code>nextResponder</code>串联而成；</li>
<li>当 View 作为 Controller 的根 view 时，<code>nextResponder</code>是 Controller；</li>
<li>当 Controller 是由其他 Controller present 而来，则<code>nextResponder</code>是其 present controller；</li>
<li>当 Controller 是 Window 的根 Controller，则<code>nextResponder</code>是 Window，注意调试中 Controller 的<code>nextResponder</code>是返回<code>nil</code>，但实际上它们确实有这层关系；</li>
<li>Window 的<code>nextResponder</code>是 Window Scene；</li>
<li>Window Scene 的<code>nextResponder</code>是 Application；</li>
<li>Application 的<code>nextResponder</code>是 AppDelegate（当 AppDelegate 是<code>UIResponder</code>类型时）；</li>
<li>Hit-Test 优先检测自己是否命中，<strong>不命中则直接忽略所有 subviews</strong>；</li>
<li>Hit-Test 若自己命中，则对所有子视图<strong>按同层级视图顺序从前向后</strong>的顺序依次进行碰撞检测，因此碰撞检测也是 superview 到 subview 的<strong>按视图层级从后向前递归</strong>的过程；</li>
<li>Hit-Test 若未命中任何子视图，自己的碰撞检测才返回 nil；</li>
<li>Hit-Test 命中目标后，产生<code>UITouch</code>事件，<code>UITouch</code>事件会沿着响应链传递到后面的所有响应者；</li>
<li><code>UIResponder</code>作为第一响应者响应了 touch 事件，响应链后面的所有响应者也会触发<code>touchesXXX</code>系列方法；</li>
<li><code>UIControl</code>控件作为第一响应者响应了 touch 事件，响应链后面的所有响应者均不再处理该 touch 事件；</li>
</ul>
</div></article><div data-v-fa2339b8="" data-v-6fdc8784="" class="tag-list-box"><div data-v-fa2339b8="" data-v-6fdc8784="" class="tag-list-title">关注下面的标签，发现更多相似文章</div><div data-v-fa2339b8="" data-v-6fdc8784="" st:block="tagList" class="tag-list"><a data-v-fa2339b8="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" class="item" data-v-6fdc8784=""><div data-v-95ddf8f6="" data-v-4802f2b2="" data-v-fa2339b8="" data-src="https://lc-gold-cdn.xitu.io/71d968ea2fde62410b19.png?imageView2/2/w/42/h/42/q/85/interlace/1" class="lazy thumb tag-icon loaded" style="background-image: url(&quot;https://lc-gold-cdn.xitu.io/71d968ea2fde62410b19.png?imageView2/2/w/42/h/42/q/85/interlace/1&quot;); background-size: contain;"></div><div data-v-fa2339b8="" class="tag-title">Objective-C</div></a></div></div><a data-v-fa2339b8="" href="https://juejin.im/user/5d8c59d05188250924536c95" target="_blank" rel="" data-v-6fdc8784=""><div data-v-fa2339b8="" class="footer-author-block"><div data-v-081ef9db="" data-v-fa2339b8="" itemscope="itemscope" itemtype="http://schema.org/Person" class="author"><meta itemprop="url" content="https://juejin.im/user/5d8c59d05188250924536c95"><meta itemprop="image" content="https://user-gold-cdn.xitu.io/2019/9/28/16d76b53799bd39b?w=1122&amp;h=1125&amp;f=png&amp;s=870139"><meta itemprop="name" content="Luminix"><!----><!----><div data-v-081ef9db="" class="author-info-block"><a data-v-081ef9db="" href="https://juejin.im/user/5d8c59d05188250924536c95" target="_blank" rel="" class="avatar-link"><div data-v-95ddf8f6="" data-v-39db9419="" data-v-081ef9db="" data-src="https://user-gold-cdn.xitu.io/2019/9/28/16d76b53799bd39b?imageView2/1/w/100/h/100/q/85/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2019/9/28/16d76b53799bd39b?imageView2/1/w/100/h/100/q/85/interlace/1&quot;);"></div></a><div data-v-081ef9db="" class="author-info-box"><div data-v-081ef9db="" class="profile-box"><a data-v-263f3a32="" data-v-081ef9db="" href="https://juejin.im/user/5d8c59d05188250924536c95" target="_blank" rel="" class="username username ellipsis">Luminix<a data-v-6d94a6ea="" data-v-263f3a32="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-6d94a6ea="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/lv-1.svg" alt="lv-1"></a></a><span data-v-081ef9db="" class="position ellipsis"></span></div><div data-v-081ef9db="" class="meta-box"><a data-v-081ef9db="" href="https://juejin.im/user/5d8c59d05188250924536c95/posts" target="_blank" rel="" class="posts"><span data-v-081ef9db="" class="count post-count">发布了 14 篇专栏 · </span></a><span data-v-081ef9db="" class="count">获得点赞 43 · </span><span data-v-081ef9db="" class="count">获得阅读 3,121</span></div></div><button data-v-5789daef="" data-v-081ef9db="" class="follow-button follow followed">已关注</button></div></div></div></a><div data-v-fa2339b8="" data-v-6fdc8784="" st:block="banner" class="article-banner"><a data-v-fa2339b8="" data-v-6fdc8784="" st:name="link" st:state="https://juejin.im/extension/?utm_source=juejin.im&amp;utm_medium=post&amp;utm_campaign=extension_promotion" class="banner-title" href="https://juejin.im/extension/?utm_source=juejin.im&amp;utm_medium=post&amp;utm_campaign=extension_promotion" target="_blank">安装掘金浏览器插件</a><div data-v-fa2339b8="" data-v-6fdc8784="" class="banner-content">打开新标签页发现好内容，掘金、GitHub、Dribbble、ProductHunt 等站点内容轻松获取。快来安装掘金浏览器插件获取高质量内容吧！</div></div><!----><!----><div data-v-0d823780="" data-v-fa2339b8="" class="comment-list-box" id="comment-box" data-v-6fdc8784=""><div data-v-0d823780="" class="title">评论</div><div data-v-155bc796="" data-v-0d823780="" class="comment-form comment-form"><div data-v-155bc796="" class="avatar-box"><div data-v-95ddf8f6="" data-v-39db9419="" data-v-155bc796="" data-src="https://mirror-gold-cdn.xitu.io/168e091634f3322953a?imageView2/1/w/100/h/100/q/85/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://mirror-gold-cdn.xitu.io/168e091634f3322953a?imageView2/1/w/100/h/100/q/85/interlace/1&quot;);"></div></div><div data-v-155bc796="" class="form-box"><div data-v-155bc796="" class="input-box"><div data-v-cc6aae16="" data-v-155bc796="" class="auth-card"><!----><div data-v-155bc796="" data-v-cc6aae16="" spellcheck="false" placeholder="输入评论..." class="rich-input empty" contenteditable="true"><br data-v-155bc796="" data-v-cc6aae16=""></div></div><!----></div><!----></div><input data-v-155bc796="" type="file" class="hidden"></div><div data-v-1540c949="" data-v-0d823780="" class="comment-list comment-list"><div data-v-0a49d917="" data-v-1540c949="" class="image-viewer-box"><!----></div><div data-v-1540c949="" class="item"><div data-v-164d9344="" data-v-1540c949="" class="comment comment"><div data-v-b628736a="" data-v-164d9344="" st:block="userPopover" st:state="57fdc6a42e958a0055a3a481" class="user-popover-box popover"><!----><a data-v-164d9344="" href="https://juejin.im/user/57fdc6a42e958a0055a3a481" target="_blank" rel="" class="user-link" data-v-b628736a=""><div data-v-95ddf8f6="" data-v-39db9419="" data-v-164d9344="" data-src="https://user-gold-cdn.xitu.io/2020/4/30/171cad1df36d6684?imageView2/1/w/100/h/100/q/85/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2020/4/30/171cad1df36d6684?imageView2/1/w/100/h/100/q/85/interlace/1&quot;);"></div></a></div><div data-v-164d9344="" class="content-box comment-divider-line"><div data-v-164d9344="" class="meta-box"><div data-v-b628736a="" data-v-164d9344="" st:block="userPopover" st:state="57fdc6a42e958a0055a3a481" class="user-popover-box"><!----><a data-v-263f3a32="" data-v-164d9344="" href="https://juejin.im/user/57fdc6a42e958a0055a3a481" target="_blank" rel="" class="username username ellipsis" data-v-b628736a="">优弧<a data-v-6d94a6ea="" data-v-263f3a32="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-6d94a6ea="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/lv-2.svg" alt="lv-2"></a></a></div><div data-v-164d9344="" class="position">管理员| 首席产品体验官| 首席客服君 | Adblock君 @ 掘金</div></div><div data-v-164d9344="" class="content">恭喜。这篇文章已经被掘金公众号收录。联系我获取一个  小册 6 折优惠码。</div><div data-v-164d9344="" class="limit-ctl-box"><!----><!----></div><!----><div data-v-164d9344="" class="reply-stat"><time data-v-164d9344="" datetime="2020-03-23T04:24:11.936Z" title="Mon Mar 23 2020 12:24:11 GMT+0800 (中国标准时间)" class="time">1月前</time><div data-v-164d9344="" class="delete"> &nbsp;·&nbsp;删除</div><div data-v-164d9344="" class="action-box"><div data-v-164d9344="" class="like-action action"><svg data-v-164d9344="" aria-hidden="true" width="16" height="16" viewBox="0 0 20 20" class="icon like-icon"><g data-v-164d9344="" fill="none" fill-rule="evenodd"><path data-v-164d9344="" d="M0 0h20v20H0z"></path> <path data-v-164d9344="" stroke="#8A93A0" stroke-linejoin="round" d="M4.58 8.25V17h-1.4C2.53 17 2 16.382 2 15.624V9.735c0-.79.552-1.485 1.18-1.485h1.4zM11.322 2c1.011.019 1.614.833 1.823 1.235.382.735.392 1.946.13 2.724-.236.704-.785 1.629-.785 1.629h4.11c.434 0 .838.206 1.107.563.273.365.363.84.24 1.272l-1.86 6.513A1.425 1.425 0 0 1 14.724 17H6.645V7.898C8.502 7.51 9.643 4.59 9.852 3.249A1.47 1.47 0 0 1 11.322 2z"></path></g></svg><!----></div><div data-v-164d9344="" class="comment-action action"><svg data-v-164d9344="" aria-hidden="true" width="16" height="16" viewBox="0 0 20 20" class="icon comment-icon"><g data-v-164d9344="" fill="none" fill-rule="evenodd"><path data-v-164d9344="" d="M0 0h20v20H0z"></path> <path data-v-164d9344="" stroke="#8A93A0" stroke-linejoin="round" d="M10 17c-4.142 0-7.5-2.91-7.5-6.5S5.858 4 10 4c4.142 0 7.5 2.91 7.5 6.5 0 1.416-.522 2.726-1.41 3.794-.129.156.41 3.206.41 3.206l-3.265-1.134c-.998.369-2.077.634-3.235.634z"></path></g></svg> <span data-v-164d9344="" class="action-title">回复</span></div></div></div><!----><div data-v-0aa2f002="" data-v-164d9344="" class="sub-comment-list sub-comment-list"><!----></div></div><!----></div></div><div data-v-1540c949="" class="item"><div data-v-164d9344="" data-v-1540c949="" class="comment comment"><div data-v-b628736a="" data-v-164d9344="" st:block="userPopover" st:state="591536b544d904006c476a6a" class="user-popover-box popover"><!----><a data-v-164d9344="" href="https://juejin.im/user/591536b544d904006c476a6a" target="_blank" rel="" class="user-link" data-v-b628736a=""><div data-v-95ddf8f6="" data-v-39db9419="" data-v-164d9344="" data-src="https://b-gold-cdn.xitu.io/v3/static/img/default-avatar.e30559a.svg" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://b-gold-cdn.xitu.io/v3/static/img/default-avatar.e30559a.svg&quot;);"></div></a></div><div data-v-164d9344="" class="content-box comment-divider-line"><div data-v-164d9344="" class="meta-box"><div data-v-b628736a="" data-v-164d9344="" st:block="userPopover" st:state="591536b544d904006c476a6a" class="user-popover-box"><!----><a data-v-263f3a32="" data-v-164d9344="" href="https://juejin.im/user/591536b544d904006c476a6a" target="_blank" rel="" class="username username ellipsis" data-v-b628736a="">kuckytong<!----></a></div><div data-v-164d9344="" class="position"></div></div><div data-v-164d9344="" class="content">优质文章</div><div data-v-164d9344="" class="limit-ctl-box"><!----><!----></div><!----><div data-v-164d9344="" class="reply-stat"><time data-v-164d9344="" datetime="2020-03-23T03:49:05.882Z" title="Mon Mar 23 2020 11:49:05 GMT+0800 (中国标准时间)" class="time">1月前</time><div data-v-164d9344="" class="delete"> &nbsp;·&nbsp;删除</div><div data-v-164d9344="" class="action-box"><div data-v-164d9344="" class="like-action action"><svg data-v-164d9344="" aria-hidden="true" width="16" height="16" viewBox="0 0 20 20" class="icon like-icon"><g data-v-164d9344="" fill="none" fill-rule="evenodd"><path data-v-164d9344="" d="M0 0h20v20H0z"></path> <path data-v-164d9344="" stroke="#8A93A0" stroke-linejoin="round" d="M4.58 8.25V17h-1.4C2.53 17 2 16.382 2 15.624V9.735c0-.79.552-1.485 1.18-1.485h1.4zM11.322 2c1.011.019 1.614.833 1.823 1.235.382.735.392 1.946.13 2.724-.236.704-.785 1.629-.785 1.629h4.11c.434 0 .838.206 1.107.563.273.365.363.84.24 1.272l-1.86 6.513A1.425 1.425 0 0 1 14.724 17H6.645V7.898C8.502 7.51 9.643 4.59 9.852 3.249A1.47 1.47 0 0 1 11.322 2z"></path></g></svg><!----></div><div data-v-164d9344="" class="comment-action action"><svg data-v-164d9344="" aria-hidden="true" width="16" height="16" viewBox="0 0 20 20" class="icon comment-icon"><g data-v-164d9344="" fill="none" fill-rule="evenodd"><path data-v-164d9344="" d="M0 0h20v20H0z"></path> <path data-v-164d9344="" stroke="#8A93A0" stroke-linejoin="round" d="M10 17c-4.142 0-7.5-2.91-7.5-6.5S5.858 4 10 4c4.142 0 7.5 2.91 7.5 6.5 0 1.416-.522 2.726-1.41 3.794-.129.156.41 3.206.41 3.206l-3.265-1.134c-.998.369-2.077.634-3.235.634z"></path></g></svg> <span data-v-164d9344="" class="action-title">回复</span></div></div></div><!----><div data-v-0aa2f002="" data-v-164d9344="" class="sub-comment-list sub-comment-list"><!----></div></div><!----></div></div></div><!----></div></div><!----><div data-v-fa2339b8="" data-v-6fdc8784="" st:block="recommended" class="main-area recommended-area shadow"><div data-v-fa2339b8="" data-v-6fdc8784="" class="recommended-entry-list-title">相关推荐</div><!----><ul data-v-0dfe6a32="" data-v-fa2339b8="" st:block="entryList" class="entry-list recommended-entry-list" data-v-6fdc8784=""><!----><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5eafa04ef265da7b9450b769|1" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5eaf96476fb9a043266cafdd" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="5a4a29076fb9a04512394c1e" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/5a4a29076fb9a04512394c1e" target="_blank" rel="" st:name="user" st:state="5a4a29076fb9a04512394c1e" data-v-b628736a="">松的冬天</a></div></li><li data-v-ecbf465a="" class="item">4天前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5eaf96476fb9a043266cafdd" target="_blank" rel="" st:name="title" class="title">利用类扩展解决NSTimer会保留目标对象</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">2</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5eaf96476fb9a043266cafdd#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><span data-v-ecbf465a="" class="count">12</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5ea7dca4e51d454d9a6a62cc|2" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5ea7dc236fb9a0437a4d27de" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="5dd4ee47e51d453694598c63" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/5dd4ee47e51d453694598c63" target="_blank" rel="" st:name="user" st:state="5dd4ee47e51d453694598c63" data-v-b628736a="">iOSer1024</a></div></li><li data-v-ecbf465a="" class="item">10天前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5ea7dc236fb9a0437a4d27de" target="_blank" rel="" st:name="title" class="title">iOS中的函数响应式编程思想</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">9</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5ea7dc236fb9a0437a4d27de#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><!----></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5ea68346f265da47bd1bc100|3" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5ea68320f265da47cc02ab27" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="5bff43f66fb9a049e82b397a" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/5bff43f66fb9a049e82b397a" target="_blank" rel="" st:name="user" st:state="5bff43f66fb9a049e82b397a" data-v-b628736a="">我是熊大</a></div></li><li data-v-ecbf465a="" class="item">11天前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5ea68320f265da47cc02ab27" target="_blank" rel="" st:name="title" class="title">🐻 iOS如何拍照静音-效果上可以完美解决</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">6</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5ea68320f265da47cc02ab27#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><span data-v-ecbf465a="" class="count">4</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><!----><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5ea650ca518825739915b34c|4" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5ea650a6f265da480c033eaf" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="57a2773ac4c971005afae24d" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/57a2773ac4c971005afae24d" target="_blank" rel="" st:name="user" st:state="57a2773ac4c971005afae24d" data-v-b628736a="">coding01</a></div></li><li data-v-ecbf465a="" class="item">11天前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/iOS" target="_blank" rel="" st:name="tag" st:state="5597838ae4b08a686ce23139" class="tag">iOS</a><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5ea650a6f265da480c033eaf" target="_blank" rel="" st:name="title" class="title">Texture ASCollectionNode 结合腾讯云TRTC实现多人上台直播</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">5</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5ea650a6f265da480c033eaf#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><span data-v-ecbf465a="" class="count">5</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5e9ae094e51d4546b2061c37|5" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5e9adea16fb9a03c364f216e" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="56e50bc8b014600029ff9ce0" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/56e50bc8b014600029ff9ce0" target="_blank" rel="" st:name="user" st:state="56e50bc8b014600029ff9ce0" data-v-b628736a="">南华Coder</a></div></li><li data-v-ecbf465a="" class="item">20天前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5e9adea16fb9a03c364f216e" target="_blank" rel="" st:name="title" class="title">iOS SDK开发二三事</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">12</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5e9adea16fb9a03c364f216e#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><span data-v-ecbf465a="" class="count">13</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><!----><!----><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5e9e4bce51882573a137a01e|4" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5e9afe726fb9a03c3550f18a" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="56e50bc8b014600029ff9ce0" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/56e50bc8b014600029ff9ce0" target="_blank" rel="" st:name="user" st:state="56e50bc8b014600029ff9ce0" data-v-b628736a="">南华Coder</a></div></li><li data-v-ecbf465a="" class="item">17天前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5e9afe726fb9a03c3550f18a" target="_blank" rel="" st:name="title" class="title">iOS 符号二三事</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">10</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5e9afe726fb9a03c3550f18a#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><!----></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5e9d4400518825737e0f901d|5" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5e9d425ae51d4546cd2ff4c3" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="5dd4ee47e51d453694598c63" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/5dd4ee47e51d453694598c63" target="_blank" rel="" st:name="user" st:state="5dd4ee47e51d453694598c63" data-v-b628736a="">iOSer1024</a></div></li><li data-v-ecbf465a="" class="item">18天前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5e9d425ae51d4546cd2ff4c3" target="_blank" rel="" st:name="title" class="title">iOS Runtime——objc_class的深入了解</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">6</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5e9d425ae51d4546cd2ff4c3#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><span data-v-ecbf465a="" class="count">4</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5e8571bb6fb9a03c42378cf3|6" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5e85717151882573ac3cdd6d" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="572febe51ea49300609f1e91" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/572febe51ea49300609f1e91" target="_blank" rel="" st:name="user" st:state="572febe51ea49300609f1e91" data-v-b628736a="">c4ibD3</a></div></li><li data-v-ecbf465a="" class="item">1月前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5e85717151882573ac3cdd6d" target="_blank" rel="" st:name="title" class="title">CTMediator 的初体验</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">4</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5e85717151882573ac3cdd6d#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><span data-v-ecbf465a="" class="count">20</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5e7a32b46fb9a07c8e6a5ae1|7" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5e7a322f6fb9a07ca24f79bb" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="57bd36915bbb5000630e5e7c" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/57bd36915bbb5000630e5e7c" target="_blank" rel="" st:name="user" st:state="57bd36915bbb5000630e5e7c" data-v-b628736a="">夜幕降临耶</a></div></li><li data-v-ecbf465a="" class="item">1月前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5e7a322f6fb9a07ca24f79bb" target="_blank" rel="" st:name="title" class="title">iOS底层原理：weak的实现原理</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">21</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5e7a322f6fb9a07ca24f79bb#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><span data-v-ecbf465a="" class="count">3</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" data-growing-container="true" data-growing-title="entryList" class="item"><div data-v-18d129a6="" data-v-0dfe6a32="" class="entry-box"><div data-v-ecbf465a="" data-v-18d129a6="" st:block="entry" st:state="5e92c15751882573cc56b84b|8" class="entry"><a data-v-ecbf465a="" href="https://juejin.im/post/5e8e99ee6fb9a03c880f478a" target="_blank" rel="" st:name="link" class="entry-link"><div data-v-ecbf465a="" class="content-box"><div data-v-ecbf465a="" class="info-box"><div data-v-ecbf465a="" class="info-row meta-row"><ul data-v-ecbf465a="" class="meta-list"><!----><!----><li data-v-ecbf465a="" class="item post">专栏</li><li data-v-ecbf465a="" class="item username clickable"><div data-v-b628736a="" data-v-ecbf465a="" st:block="userPopover" st:state="5df88e70e51d45584221d6da" class="user-popover-box"><!----><a data-v-ecbf465a="" href="https://juejin.im/user/5df88e70e51d45584221d6da" target="_blank" rel="" st:name="user" st:state="5df88e70e51d45584221d6da" data-v-b628736a="">JasonPa</a></div></li><li data-v-ecbf465a="" class="item">26天前</li><li data-v-ecbf465a="" class="item tag"><a data-v-ecbf465a="" href="https://juejin.im/tag/Objective-C" target="_blank" rel="" st:name="tag" st:state="5597a0b7e4b08a686ce57e18" class="tag">Objective-C</a></li><!----></ul></div><div data-v-ecbf465a="" class="info-row title-row"><!----><!----><a data-v-ecbf465a="" href="https://juejin.im/post/5e8e99ee6fb9a03c880f478a" target="_blank" rel="" st:name="title" class="title">iOS大师养成之路--方法的旅程</a></div><div data-v-ecbf465a="" class="info-row action-row"><ul data-v-ecbf465a="" class="action-list"><li data-v-ecbf465a="" st:name="likeBtn" class="item like clickable"><a data-v-ecbf465a="" class="title-box"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-ecbf465a="" class="count">7</span></a></li><li data-v-ecbf465a="" st:name="commentBtn" class="item comment clickable"><a data-v-ecbf465a="" href="https://juejin.im/post/5e8e99ee6fb9a03c880f478a#comment" target="_blank" rel="" class="title-box"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/comment_002.svg" class="icon"><span data-v-ecbf465a="" class="count">4</span></a></li><li data-v-ecbf465a="" st:name="shareBtn" title="分享" class="item share clickable hover"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/share.svg" class="icon"><div data-v-ecbf465a="" class="share-panel"><div data-v-ecbf465a="" st:name="shareItem" st:state="weibo" class="share-item weibo"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/weibo.svg" class="icon">微博</div><div data-v-ecbf465a="" st:name="shareItem" st:state="wechat" class="share-item wechat"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/wechat.svg" class="icon">微信扫一扫<div data-v-ecbf465a="" class="qr-code-box"><img data-v-ecbf465a="" src="" class="qr-code"></div></div></div></li><li data-v-ecbf465a="" title="收藏" st:name="collectBtn" class="item collect clickable hover"><img data-v-ecbf465a="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/collect.svg" class="icon"><!----></li><!----></ul></div></div><!----></div></a></div></div></li><li data-v-0dfe6a32="" class="item"><!----></li><!----></ul></div><div data-v-7301278b="" data-v-fa2339b8="" st:block="sidebar" class="sidebar sidebar" data-v-6fdc8784=""><div data-v-16442876="" data-v-76358071="" data-v-7301278b="" class="sidebar-block author-block shadow"><div data-v-16442876="" class="block-title">关于作者</div><div data-v-16442876="" class="block-body"><a data-v-76358071="" href="https://juejin.im/user/5d8c59d05188250924536c95" target="_blank" rel="" class="user-item item" data-v-16442876=""><div data-v-95ddf8f6="" data-v-39db9419="" data-v-76358071="" data-src="https://user-gold-cdn.xitu.io/2019/9/28/16d76b53799bd39b?imageView2/1/w/100/h/100/q/85/interlace/1" class="lazy avatar avatar loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2019/9/28/16d76b53799bd39b?imageView2/1/w/100/h/100/q/85/interlace/1&quot;);"></div><div data-v-76358071="" class="info-box"><a data-v-263f3a32="" data-v-76358071="" href="https://juejin.im/user/5d8c59d05188250924536c95" target="_blank" rel="" class="username">Luminix<a data-v-6d94a6ea="" data-v-263f3a32="" href="https://juejin.im/book/5c90640c5188252d7941f5bb/section/5c9065385188252da6320022" target="_blank" rel="" class="rank"><img data-v-6d94a6ea="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/lv-1.svg" alt="lv-1"></a></a><!----></div></a><div data-v-76358071="" data-v-16442876="" class="stat-item item"><svg data-v-76358071="" data-v-16442876="" xmlns="http://www.w3.org/2000/svg" width="25" height="26" viewBox="0 0 25 26" class="zan"><g data-v-76358071="" data-v-16442876="" fill="none" fill-rule="evenodd" transform="translate(0 .57)"><ellipse data-v-76358071="" data-v-16442876="" cx="12.5" cy="12.57" fill="#E1EFFF" rx="12.5" ry="12.57"></ellipse> <path data-v-76358071="" data-v-16442876="" fill="#7BB9FF" d="M8.596 11.238V19H7.033C6.463 19 6 18.465 6 17.807v-5.282c0-.685.483-1.287 1.033-1.287h1.563zm4.275-4.156A1.284 1.284 0 0 1 14.156 6c.885.016 1.412.722 1.595 1.07.334.638.343 1.687.114 2.361-.207.61-.687 1.412-.687 1.412h3.596c.38 0 .733.178.969.488.239.317.318.728.21 1.102l-1.628 5.645a1.245 1.245 0 0 1-1.192.922h-7.068v-7.889c1.624-.336 2.623-2.866 2.806-4.029z"></path></g></svg> <span data-v-76358071="" data-v-16442876="" class="content">获得点赞<span data-v-76358071="" data-v-16442876="" class="count">43</span></span></div><div data-v-76358071="" data-v-16442876="" class="stat-item item"><svg data-v-76358071="" data-v-16442876="" width="25" height="25" viewBox="0 0 25 25" class="icon stat-view-icon"><g data-v-76358071="" data-v-16442876="" fill="none" fill-rule="evenodd"><circle data-v-76358071="" data-v-16442876="" cx="12.5" cy="12.5" r="12.5" fill="#E1EFFF"></circle> <path data-v-76358071="" data-v-16442876="" fill="#7BB9FF" d="M4 12.5S6.917 7 12.75 7s8.75 5.5 8.75 5.5-2.917 5.5-8.75 5.5S4 12.5 4 12.5zm8.75 2.292c1.208 0 2.188-1.026 2.188-2.292 0-1.266-.98-2.292-2.188-2.292-1.208 0-2.188 1.026-2.188 2.292 0 1.266.98 2.292 2.188 2.292z"></path></g></svg> <span data-v-76358071="" data-v-16442876="" class="content">文章被阅读<span data-v-76358071="" data-v-16442876="" class="count">3,121</span></span></div><!----></div></div><!----><div data-v-3b242246="" data-v-518a2f8f="" data-v-7301278b="" class="index-book-collect" place="post" category="5562b405e4b00c57d9b94a41"><div data-v-3b242246="" class="header"><div data-v-3b242246="" class="title">掘金小册</div><div data-v-3b242246="" class="controllers"><div data-v-3b242246="" class="arrow icon ion-chevron-left"></div><div data-v-3b242246="" class="arrow icon ion-chevron-right"></div></div></div><div data-v-3b242246="" class="slide-book transition--next"><div data-v-a0652dc6="" data-v-3b242246="" class="slide-book-list item"><a data-v-a0652dc6="" href="https://juejin.im/book/5e588e04518825492b50b274" class="item"><div data-v-a0652dc6="" class="poster"><div data-v-95ddf8f6="" data-v-4802f2b2="" data-v-a0652dc6="" data-src="https://user-gold-cdn.xitu.io/2020/4/3/1713ef17508366e6?imageView2/1/w/104/h/144/q/95/interlace/1" class="lazy thumb poster-img loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2020/4/3/1713ef17508366e6?imageView2/1/w/104/h/144/q/95/interlace/1&quot;); background-size: cover;"></div></div><div data-v-a0652dc6="" class="content-text"><div data-v-a0652dc6="" class="title">基于 NodeJS 构建 GraphQL API 服务</div><div data-v-a0652dc6="" class="price"><div data-v-a0652dc6="" class="new">新人价 ￥9.95</div><div data-v-a0652dc6="" class="delete">￥19.9</div></div></div></a><a data-v-a0652dc6="" href="https://juejin.im/book/5c7bcd6b6fb9a049a7128934" class="item"><div data-v-a0652dc6="" class="poster"><div data-v-95ddf8f6="" data-v-4802f2b2="" data-v-a0652dc6="" data-src="https://user-gold-cdn.xitu.io/2019/5/29/16b02e61373e1829?imageView2/1/w/104/h/144/q/95/interlace/1" class="lazy thumb poster-img loaded" style="background-image: url(&quot;https://user-gold-cdn.xitu.io/2019/5/29/16b02e61373e1829?imageView2/1/w/104/h/144/q/95/interlace/1&quot;); background-size: cover;"></div></div><div data-v-a0652dc6="" class="content-text"><div data-v-a0652dc6="" class="title">Python数据分析实战：构建股票量化交易系统</div><div data-v-a0652dc6="" class="price"><div data-v-a0652dc6="" class="new">新人价 ￥19.95</div><div data-v-a0652dc6="" class="delete">￥39.9</div></div></div></a></div></div><div data-v-3b242246="" class="book-newuser"><div data-v-3b242246="" class="newuser-title"><span data-v-3b242246="">新人专享好礼</span></div><div data-v-3b242246="" class="giftbag"><img data-v-3b242246="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/45.svg"><div data-v-3b242246="" class="content-text"><div data-v-3b242246="" class="title">送你<span data-v-3b242246="" class="highlight">45元</span>买小册</div><div data-v-3b242246="" class="btn-box"><div data-v-3b242246="" class="btn-giftbag">立即领取</div></div></div></div></div></div><div data-v-16442876="" data-v-03315f79="" data-v-7301278b="" class="sidebar-block app-download-sidebar-block shadow"><!----><div data-v-16442876="" class="block-body"><a data-v-03315f79="" data-v-16442876="" class="app-link" href="https://juejin.im/app" target="_blank"><img data-v-03315f79="" data-v-16442876="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/post.png" class="qr-img"><div data-v-03315f79="" data-v-16442876="" class="content-box"><div data-v-03315f79="" data-v-16442876="" class="headline">下载掘金客户端</div><div data-v-03315f79="" data-v-16442876="" class="desc">一个帮助开发者成长的社区</div></div><div data-v-03315f79="" data-v-16442876="" title="关闭" class="close-btn ion-close-round"></div></a></div></div><div data-v-16442876="" data-v-3c6504c4="" data-v-7301278b="" class="sidebar-block wechat-sidebar-block pure"><div data-v-06f599f1="" data-v-3c6504c4="" class="wechat-banner" data-v-16442876=""><img data-v-06f599f1="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/ios.png" class="wechat-img"></div><div data-v-3c6504c4="" data-v-16442876="" title="关闭" class="close-btn ion-close-round"></div></div><div data-v-16442876="" data-v-2998ad53="" data-v-7301278b="" class="sidebar-block related-entry-sidebar-block shadow" st:block="relatedEntrySidebarBlock"><div data-v-16442876="" class="block-title">相关文章</div><div data-v-16442876="" class="block-body"><div data-v-2998ad53="" data-v-16442876="" class="entry-list"><a data-v-2998ad53="" href="https://juejin.im/post/5e77135e6fb9a07ca714dbc4" target="_blank" rel="" st:name="link" class="item" data-v-16442876=""><div data-v-2998ad53="" class="entry-title">调试iOS用户交互事件响应流程</div><div data-v-2998ad53="" class="entry-meta-box"><div data-v-2998ad53="" class="entry-meta"><img data-v-2998ad53="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-2998ad53="" class="count">17</span></div><div data-v-2998ad53="" class="entry-meta"><img data-v-2998ad53="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/comment.svg" class="icon"><span data-v-2998ad53="" class="count">2</span></div></div></a><a data-v-2998ad53="" href="https://juejin.im/post/5da17d08e51d45783a772a13" target="_blank" rel="" st:name="link" class="item" data-v-16442876=""><div data-v-2998ad53="" class="entry-title">Runtime源代码解读2（类和对象）</div><div data-v-2998ad53="" class="entry-meta-box"><div data-v-2998ad53="" class="entry-meta"><img data-v-2998ad53="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-2998ad53="" class="count">7</span></div><div data-v-2998ad53="" class="entry-meta"><img data-v-2998ad53="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/comment.svg" class="icon"><span data-v-2998ad53="" class="count">2</span></div></div></a><a data-v-2998ad53="" href="https://juejin.im/post/5da72b9af265da5b6a16a647" target="_blank" rel="" st:name="link" class="item" data-v-16442876=""><div data-v-2998ad53="" class="entry-title">Runtime源代码解读7（深入探讨面向对象实现细节）</div><div data-v-2998ad53="" class="entry-meta-box"><div data-v-2998ad53="" class="entry-meta"><img data-v-2998ad53="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-2998ad53="" class="count">4</span></div><div data-v-2998ad53="" class="entry-meta"><img data-v-2998ad53="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/comment.svg" class="icon"><span data-v-2998ad53="" class="count">1</span></div></div></a><a data-v-2998ad53="" href="https://juejin.im/post/5e7f5ed76fb9a03c3b2bb0cd" target="_blank" rel="" st:name="link" class="item" data-v-16442876=""><div data-v-2998ad53="" class="entry-title">RunLoop与事件响应</div><div data-v-2998ad53="" class="entry-meta-box"><div data-v-2998ad53="" class="entry-meta"><img data-v-2998ad53="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-2998ad53="" class="count">6</span></div><div data-v-2998ad53="" class="entry-meta"><img data-v-2998ad53="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/comment.svg" class="icon"><span data-v-2998ad53="" class="count">1</span></div></div></a><a data-v-2998ad53="" href="https://juejin.im/post/5d8c7aab51882505d334d7a5" target="_blank" rel="" st:name="link" class="item" data-v-16442876=""><div data-v-2998ad53="" class="entry-title">Runtime源代码解读（实现面向对象初探）</div><div data-v-2998ad53="" class="entry-meta-box"><div data-v-2998ad53="" class="entry-meta"><img data-v-2998ad53="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/zan.svg" class="icon"><span data-v-2998ad53="" class="count">1</span></div><div data-v-2998ad53="" class="entry-meta"><img data-v-2998ad53="" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/comment.svg" class="icon"><span data-v-2998ad53="" class="count">0</span></div></div></a></div></div></div><div data-v-7301278b="" class="sticky-block-box"><div data-v-16442876="" data-v-48b1e3e4="" data-v-7301278b="" class="sidebar-block catalog-block pure"><nav data-v-1a96e633="" data-v-48b1e3e4="" class="article-catalog" style="" data-v-16442876=""><div data-v-1a96e633="" class="catalog-title">目录</div><div data-v-1a96e633="" class="catalog-body"><ul data-v-1a96e633="" class="catalog-list" style="margin-top: 0px;"><li data-v-1a96e633="" class="item d1"><a href="#heading-0" title="调试iOS用户交互事件响应流程">调试iOS用户交互事件响应流程</a><ul class="sub-list"><li class="item d2"><a href="#heading-1" title="一、响应链">一、响应链</a><ul class="sub-list"><li class="item d3 active"><a href="#heading-2" title="1.1 Next Responder">1.1 Next Responder</a><ul class="sub-list"><li class="item d4" style="display: none;"><a href="#heading-3" title="1.1.1 调试nextResponder">1.1.1 调试nextResponder</a><!----></li></ul></li><li class="item d3"><a href="#heading-4" title="1.2 Target-Action和响应链">1.2 Target-Action和响应链</a><ul class="sub-list"><li class="item d4" style="display: none;"><a href="#heading-5" title="1.2.1 注册UIControlEvents">1.2.1 注册UIControlEvents</a><!----></li><li class="item d4" style="display: none;"><a href="#heading-6" title="1.2.2 调试UIControlEvents的传递">1.2.2 调试UIControlEvents的传递</a><ul class="sub-list"><li class="item d5" style="display: none;"><a href="#heading-7" title="结论一：Action不会在同级视图层级中传递">结论一：Action不会在同级视图层级中传递</a><!----></li><li class="item d5" style="display: none;"><a href="#heading-8" title="结论二：Target为空时Action仍可以被响应">结论二：Target为空时Action仍可以被响应</a><!----></li><li class="item d5" style="display: none;"><a href="#heading-9" title="结论三：Target为空时Action沿响应链传递">结论三：Target为空时Action沿响应链传递</a><!----></li></ul></li></ul></li><li class="item d3"><a href="#heading-10" title="1.3 手势识别和响应链">1.3 手势识别和响应链</a><!----></li><li class="item d3"><a href="#heading-11" title="1.4 修改响应链">1.4 修改响应链</a><!----></li></ul></li><li class="item d2"><a href="#heading-12" title="二、Touch事件传递">二、Touch事件传递</a><ul class="sub-list"><li class="item d3"><a href="#heading-13" title="2.1 碰撞检测">2.1 碰撞检测</a><!----></li><li class="item d3"><a href="#heading-14" title="2.2 调试Touch事件传递">2.2 调试Touch事件传递</a><ul class="sub-list"><li class="item d4" style="display: none;"><a href="#heading-15" title="步骤零：准备工作">步骤零：准备工作</a><!----></li><li class="item d4" style="display: none;"><a href="#heading-16" title="步骤一：下断点">步骤一：下断点</a><!----></li><li class="item d4" style="display: none;"><a href="#heading-17" title="步骤二：简单分析 touch 事件在 Window 层的分发">步骤二：简单分析 touch 事件在 Window 层的分发</a><!----></li><li class="item d4" style="display: none;"><a href="#heading-18" title="步骤三：分析 Touch 事件的产生">步骤三：分析 Touch 事件的产生</a><!----></li><li class="item d4" style="display: none;"><a href="#heading-19" title="步骤四：分析 touch 事件开始后的传递">步骤四：分析 touch 事件开始后的传递</a><ul class="sub-list"><li class="item d5" style="display: none;"><a href="#heading-20" title="情况一：点击 Button 控件时">情况一：点击 Button 控件时</a><!----></li><li class="item d5" style="display: none;"><a href="#heading-21" title="情况二：点击 Label 视图">情况二：点击 Label 视图</a><!----></li></ul></li><li class="item d4" style="display: none;"><a href="#heading-22" title="步骤五：分析 touch 事件结束后的传递">步骤五：分析 touch 事件结束后的传递</a><!----></li></ul></li></ul></li><li class="item d2"><a href="#heading-23" title="三、RunLoop与事件（TODO）">三、RunLoop与事件（TODO）</a><!----></li><li class="item d2"><a href="#heading-24" title="四、总结">四、总结</a><!----></li></ul></li></ul></div></nav></div></div></div><div data-v-b753df20="" data-v-fa2339b8="" class="article-suspended-panel article-suspended-panel" data-v-6fdc8784=""><div data-v-b753df20="" class="like-btn panel-btn like-adjust active with-badge" badge="17"></div><div data-v-b753df20="" class="comment-btn panel-btn comment-adjust with-badge" badge="2"></div><div data-v-b753df20="" class="collect-btn panel-btn"><!----></div><div data-v-b753df20="" class="share-title">分享</div><div data-v-b753df20="" class="weibo-btn share-btn panel-btn"></div><div data-v-b753df20="" class="qq-btn share-btn panel-btn"></div><div data-v-b753df20="" class="wechat-btn share-btn panel-btn"><img data-v-b753df20="" src="" class="wechat-qr-code-img shadow" style="display: none;"></div></div><div data-v-0a49d917="" data-v-fa2339b8="" class="image-viewer-box" data-v-6fdc8784=""><!----></div><!----></div></main></div><!----></div>
      
      
      
      <script type="text/javascript" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/runtime.js"></script><script type="text/javascript" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/0.js"></script><script type="text/javascript" src="%E8%B0%83%E8%AF%95iOS%E7%94%A8%E6%88%B7%E4%BA%A4%E4%BA%92%E4%BA%8B%E4%BB%B6%E5%93%8D%E5%BA%94%E6%B5%81%E7%A8%8B%20-%20%E6%8E%98%E9%87%91_files/1.js"></script>
    </body></html>